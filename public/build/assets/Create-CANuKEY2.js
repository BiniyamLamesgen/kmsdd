import{d as A,s as b,p as w,u as G,c as d,o as n,a as l,b as e,h as E,w as o,e as r,f as i,g as V,i as p,n as y,t as u,F as j,k as U}from"./app-B8cnIyhQ.js";import{_ as h}from"./index-C4qItS30.js";import{_ as B,a as N,b as P,c as R}from"./CardTitle.vue_vue_type_script_setup_true_lang-C1LfM9oQ.js";import{_ as M}from"./CardDescription.vue_vue_type_script_setup_true_lang-Bm2-B4Cb.js";import{_ as f,a as x}from"./Label.vue_vue_type_script_setup_true_lang-TEKdcw0c.js";import{_ as O}from"./AppLayout.vue_vue_type_script_setup_true_lang-KgpCTNUL.js";import{A as z}from"./arrow-left-ayoWbgUT.js";import{S as L}from"./star-Bpic7xZo.js";import{C as $}from"./cloud-upload-Bkpi8B7y.js";import{o as W,s as _,i as q}from"./types-D45As3cg.js";import"./useForwardExpose-BKx_IIGC.js";import"./VisuallyHidden-DfpOj_YV.js";const J={class:"max-w-6xl space-y-6 p-4 sm:p-6 lg:p-8"},H={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},K={class:"flex flex-col space-y-2 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4"},Q={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 lg:gap-6"},X={class:"space-y-2"},Y={key:0,class:"text-sm text-red-600"},Z={class:"space-y-2"},ee={key:0,class:"text-sm text-red-600"},te={class:"space-y-2"},se={key:0,class:"text-sm text-red-600"},le={class:"space-y-2"},re={key:0,class:"text-sm text-red-600"},ae={class:"space-y-2"},oe={key:0,class:"text-sm text-red-600"},ie={class:"space-y-2"},de={key:0,class:"text-sm text-red-600"},ne={class:"mt-8 border-t pt-6"},me={class:"space-y-4"},pe={key:0,class:"mb-4"},ue=["src"],ce={class:"text-center"},fe={class:"text-lg font-medium text-gray-700"},ge={key:0,class:"text-sm text-red-600"},ye={class:"flex flex-col items-center justify-end space-y-3 border-t pt-6 sm:flex-row sm:space-y-0 sm:space-x-4"},Fe=A({__name:"Create",setup(xe){const D=[{title:"Gallery",href:b("gallery.index")},{title:"Add Image",href:""}],g=w(null),k=w(null),v=w(null),s=G({image:null,alt:"",title:"",description:"",category:"",employee:"",date:""}),F=W({image:q(File).refine(c=>c.type.startsWith("image/"),{message:"The image field must be an image."}),alt:_().max(255).optional(),title:_().min(1,"Title is required").max(255),description:_().max(5e3).optional(),category:_().max(255).optional(),employee:_().max(255).optional(),date:_().optional()});function C(c){const t=c.target;if(v.value=null,t.files&&t.files[0]){const a=t.files[0];if(!a.type.startsWith("image/")){v.value="Only image files are allowed",s.image=null,g.value=null;return}s.image=a;const m=new FileReader;m.onload=T=>{g.value=T.target?.result},m.readAsDataURL(a)}else s.image=null,g.value=null}const S=()=>{const c=F.safeParse(s.data());if(s.errors={},!c.success){c.error.issues.forEach(a=>{a.path[0]&&(s.errors[a.path[0]]=a.message)});return}const t=new FormData;Object.entries(s.data()).forEach(([a,m])=>{a==="image"&&m instanceof File?t.append("image",m):a!=="image"&&m!==void 0&&m!==null&&t.append(a,m)}),s.post(b("gallery.store"),t,{onSuccess:()=>U.visit(b("gallery.index"))})},I=()=>{U.visit(b("gallery.index"))};return(c,t)=>(n(),d(j,null,[l(e(E),{title:"Add Gallery Image"}),l(O,{breadcrumbs:D},{default:o(()=>[r("div",J,[r("div",H,[r("div",K,[l(e(h),{variant:"outline",size:"sm",onClick:I,class:"w-fit cursor-pointer"},{default:o(()=>[l(e(z),{class:"mr-2 h-4 w-4"}),t[8]||(t[8]=i(" Back ",-1))]),_:1}),t[9]||(t[9]=r("div",null,[r("h1",{class:"text-2xl font-semibold text-gray-900 sm:text-3xl dark:text-gray-100"}," Add Gallery Image "),r("p",{class:"text-sm text-gray-600 sm:text-base dark:text-gray-400"}," Upload a new image to the gallery. ")],-1))])]),r("form",{onSubmit:V(S,["prevent"]),class:"space-y-6",enctype:"multipart/form-data"},[l(e(B),null,{default:o(()=>[l(e(N),null,{default:o(()=>[l(e(P),{class:"flex items-center space-x-2"},{default:o(()=>[l(e(L),{class:"h-5 w-5"}),t[10]||(t[10]=r("span",null,"Image Information",-1))]),_:1}),l(e(M),null,{default:o(()=>[...t[11]||(t[11]=[i(" Enter the details for the new gallery image. ",-1)])]),_:1})]),_:1}),l(e(R),null,{default:o(()=>[r("div",Q,[r("div",X,[l(e(f),{for:"title"},{default:o(()=>[...t[12]||(t[12]=[i("Title *",-1)])]),_:1}),l(e(x),{id:"title",modelValue:e(s).title,"onUpdate:modelValue":t[0]||(t[0]=a=>e(s).title=a),placeholder:"Title",class:y([{"border-red-500":e(s).errors.title},"w-full"])},null,8,["modelValue","class"]),e(s).errors.title?(n(),d("p",Y,u(e(s).errors.title),1)):p("",!0)]),r("div",Z,[l(e(f),{for:"description"},{default:o(()=>[...t[13]||(t[13]=[i("Description",-1)])]),_:1}),l(e(x),{id:"description",modelValue:e(s).description,"onUpdate:modelValue":t[1]||(t[1]=a=>e(s).description=a),placeholder:"Description",class:y([{"border-red-500":e(s).errors.description},"w-full"])},null,8,["modelValue","class"]),e(s).errors.description?(n(),d("p",ee,u(e(s).errors.description),1)):p("",!0)]),r("div",te,[l(e(f),{for:"category"},{default:o(()=>[...t[14]||(t[14]=[i("Category",-1)])]),_:1}),l(e(x),{id:"category",modelValue:e(s).category,"onUpdate:modelValue":t[2]||(t[2]=a=>e(s).category=a),placeholder:"Category",class:y([{"border-red-500":e(s).errors.category},"w-full"])},null,8,["modelValue","class"]),e(s).errors.category?(n(),d("p",se,u(e(s).errors.category),1)):p("",!0)]),r("div",le,[l(e(f),{for:"employee"},{default:o(()=>[...t[15]||(t[15]=[i("Employee",-1)])]),_:1}),l(e(x),{id:"employee",modelValue:e(s).employee,"onUpdate:modelValue":t[3]||(t[3]=a=>e(s).employee=a),placeholder:"Employee",class:y([{"border-red-500":e(s).errors.employee},"w-full"])},null,8,["modelValue","class"]),e(s).errors.employee?(n(),d("p",re,u(e(s).errors.employee),1)):p("",!0)]),r("div",ae,[l(e(f),{for:"date"},{default:o(()=>[...t[16]||(t[16]=[i("Date",-1)])]),_:1}),l(e(x),{id:"date",type:"date",modelValue:e(s).date,"onUpdate:modelValue":t[4]||(t[4]=a=>e(s).date=a),class:y([{"border-red-500":e(s).errors.date},"w-full"])},null,8,["modelValue","class"]),e(s).errors.date?(n(),d("p",oe,u(e(s).errors.date),1)):p("",!0)]),r("div",ie,[l(e(f),{for:"alt"},{default:o(()=>[...t[17]||(t[17]=[i("Alt Text",-1)])]),_:1}),l(e(x),{id:"alt",modelValue:e(s).alt,"onUpdate:modelValue":t[5]||(t[5]=a=>e(s).alt=a),placeholder:"Alt text",class:y([{"border-red-500":e(s).errors.alt},"w-full"])},null,8,["modelValue","class"]),e(s).errors.alt?(n(),d("p",de,u(e(s).errors.alt),1)):p("",!0)])]),r("div",ne,[r("div",me,[l(e(f),null,{default:o(()=>[...t[18]||(t[18]=[i("Image File *",-1)])]),_:1}),r("div",{onClick:t[6]||(t[6]=a=>k.value?.click()),onDragover:t[7]||(t[7]=V(()=>{},["prevent"])),onDrop:V(C,["prevent"]),class:"relative border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-blue-400 transition-colors duration-200 bg-gray-50 hover:bg-blue-50 min-h-[120px] flex flex-col items-center justify-center"},[l(e($),{class:"w-12 h-12 text-gray-400 mx-auto rotate-0 mb-2"}),r("input",{ref_key:"imageInputRef",ref:k,type:"file",accept:"image/*",onChange:C,class:"hidden"},null,544),g.value?(n(),d("div",pe,[r("img",{src:g.value,alt:"Preview",class:"max-h-40 rounded border"},null,8,ue)])):p("",!0),r("div",ce,[r("p",fe,u(g.value?"Change Image":"Upload Image"),1),t[19]||(t[19]=r("p",{class:"text-sm text-gray-500 mt-1"}," Drag and drop an image here, or click to select ",-1)),t[20]||(t[20]=r("p",{class:"text-xs text-gray-400 mt-1"}," Supports: JPG, PNG, GIF, SVG (Max: 2MB) ",-1))])],32),v.value||e(s).errors.image?(n(),d("p",ge,u(v.value||e(s).errors.image),1)):p("",!0)])])]),_:1})]),_:1}),r("div",ye,[l(e(h),{type:"button",variant:"outline",onClick:I,class:"order-2 w-full cursor-pointer sm:order-1 sm:w-auto"},{default:o(()=>[...t[21]||(t[21]=[i(" Cancel ",-1)])]),_:1}),l(e(h),{type:"submit",loading:e(s).processing,class:"order-1 w-full cursor-pointer sm:order-2 sm:w-auto"},{default:o(()=>[l(e($),{class:"mr-2 h-4 w-4"}),t[22]||(t[22]=i(" Upload Gallery ",-1))]),_:1},8,["loading"])])],32)])]),_:1})],64))}});export{Fe as default};
