import{d as F,s as p,u as H,p as b,c as n,o as d,a as r,b as e,h as I,w as l,e as o,i as c,f as i,t as _,g as U,n as x,x as D,F as E}from"./app-WCoSBNF8.js";import{_ as w}from"./index-gtYP4Z27.js";import{_ as N,a as R,b as j,c as B}from"./CardTitle.vue_vue_type_script_setup_true_lang-CqPOizUP.js";import{_ as O}from"./CardDescription.vue_vue_type_script_setup_true_lang-BsvAwo7b.js";import{_ as v,a as k}from"./Label.vue_vue_type_script_setup_true_lang-DA93N1nt.js";import{_ as P}from"./Textarea.vue_vue_type_script_setup_true_lang-CLxxnUeM.js";import{F as T,_ as z}from"./AppLayout.vue_vue_type_script_setup_true_lang-BkSasf_i.js";import{C as g}from"./circle-alert-CmMrAs-q.js";import{P as A}from"./plus-BaMQmwWi.js";import"./useForwardExpose-j55gvhwt.js";import"./VisuallyHidden-CkRoF75v.js";const M={class:"container mx-auto max-w-3xl px-4 py-8"},q={class:"relative mb-6"},L=["src"],W={key:1,class:"mt-2 flex items-center gap-1 text-sm text-destructive"},G={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},J={class:"space-y-2"},K={key:0,class:"mb-2 flex items-center gap-1 text-sm text-destructive"},Q={class:"space-y-2"},X={key:0,class:"mb-2 flex items-center gap-1 text-sm text-destructive"},Y={class:"my-4 space-y-4"},Z={key:0,class:"mb-2 flex items-center gap-1 text-sm text-destructive"},ee={class:"flex justify-end"},se={key:0},te={key:1},_e=F({__name:"Create",setup(re){const C=[{title:"Hero Slides",href:p("hero-slides.index")},{title:"Create Hero Slide",href:p("hero-slides.create")}],t=H({title:"",description:"",order:0,image:null}),u=b(null),h=b(null),m=b(null);function V(f){const s=f.target.files;if(m.value=null,s&&s[0]){const a=s[0];if(!a.type.startsWith("image/")){m.value="Only image files are allowed",t.image=null,u.value=null;return}t.image=a;const y=new FileReader;y.onload=S=>{u.value=S.target?.result},y.readAsDataURL(a)}else t.image=null,u.value=null}const $=()=>{m.value=null,t.title.trim()&&t.post(p("hero-slides.store"),{onSuccess:()=>{},onError:f=>{console.error("Form submission errors:",f)}})};return(f,s)=>(d(),n(E,null,[r(e(I),{title:"Create Hero Slide"}),r(z,{breadcrumbs:C},{default:l(()=>[o("div",M,[o("div",q,[u.value?(d(),n("img",{key:0,src:u.value,alt:"Hero Slide Image",class:"h-64 w-full rounded-t object-cover"},null,8,L)):c("",!0),o("button",{type:"button",onClick:s[0]||(s[0]=a=>h.value?.click()),class:"absolute top-4 right-4 z-10 flex cursor-pointer items-center justify-center rounded-full border-4 border-black bg-white p-2 shadow-xl",style:{"background-color":"rgba(255, 255, 255, 0.98)","box-shadow":"0 2px 12px 2px rgba(0, 0, 0, 0.25)"}},[r(e(T),{class:"h-5 w-5 text-black"}),s[4]||(s[4]=o("span",{class:"sr-only"},"Upload Image",-1))]),o("input",{ref_key:"imageInputRef",ref:h,id:"image",type:"file",accept:"image/*",onChange:V,class:"hidden"},null,544),m.value||e(t).errors.image?(d(),n("p",W,[r(e(g),{class:"h-3 w-3"}),i(" "+_(m.value||e(t).errors.image),1)])):c("",!0)]),o("form",{onSubmit:U($,["prevent"]),class:"space-y-6"},[r(e(N),{class:"w-full"},{default:l(()=>[r(e(R),null,{default:l(()=>[r(e(j),null,{default:l(()=>[...s[5]||(s[5]=[i("Create Hero Slide",-1)])]),_:1}),r(e(O),null,{default:l(()=>[...s[6]||(s[6]=[i("Enter all details for the new hero slide",-1)])]),_:1})]),_:1}),r(e(B),null,{default:l(()=>[o("div",G,[o("div",J,[r(e(v),{for:"title"},{default:l(()=>[...s[7]||(s[7]=[i("Title ",-1),o("span",{class:"text-red-600"},"*",-1)])]),_:1}),r(e(k),{id:"title",modelValue:e(t).title,"onUpdate:modelValue":s[1]||(s[1]=a=>e(t).title=a),placeholder:"Hero slide title",class:x(e(t).errors.title?"border-destructive":""),required:""},null,8,["modelValue","class"]),e(t).errors.title?(d(),n("p",K,[r(e(g),{class:"h-3 w-3"}),i(" "+_(e(t).errors.title),1)])):c("",!0)]),o("div",Q,[r(e(v),{for:"order"},{default:l(()=>[...s[8]||(s[8]=[i("Order",-1)])]),_:1}),r(e(k),{id:"order",modelValue:e(t).order,"onUpdate:modelValue":s[2]||(s[2]=a=>e(t).order=a),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"Order",class:x(e(t).errors.order?"border-destructive":"")},null,8,["modelValue","class"]),e(t).errors.order?(d(),n("p",X,[r(e(g),{class:"h-3 w-3"}),i(" "+_(e(t).errors.order),1)])):c("",!0)])]),o("div",Y,[r(e(v),{for:"description"},{default:l(()=>[...s[9]||(s[9]=[i("Description",-1)])]),_:1}),r(e(P),{id:"description",modelValue:e(t).description,"onUpdate:modelValue":s[3]||(s[3]=a=>e(t).description=a),placeholder:"Description",rows:"4",class:x(["w-full",e(t).errors.description?"border-destructive":""])},null,8,["modelValue","class"]),e(t).errors.description?(d(),n("p",Z,[r(e(g),{class:"h-3 w-3"}),i(" "+_(e(t).errors.description),1)])):c("",!0)])]),_:1})]),_:1}),o("div",ee,[r(e(D),{href:e(p)("hero-slides.index")},{default:l(()=>[r(e(w),{variant:"outline",type:"button"},{default:l(()=>[...s[10]||(s[10]=[i("Cancel",-1)])]),_:1})]),_:1},8,["href"]),r(e(w),{type:"submit",disabled:e(t).processing||!e(t).title.trim(),class:"ml-2 gap-2"},{default:l(()=>[r(e(A),{class:"h-4 w-4"}),e(t).processing?(d(),n("span",se,"Creating...")):(d(),n("span",te,"Create Hero Slide"))]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{_e as default};
