import{C as y,c as z,u as G,_ as H,T as d}from"./useServerDataTable-NCLCFBSb.js";import{_ as p}from"./index-CTru82cN.js";import{_ as C,a as S,b as D,c as $,d as F,e as B}from"./DialogTitle.vue_vue_type_script_setup_true_lang-5Sa-XXAZ.js";import{_ as J}from"./AppLayout.vue_vue_type_script_setup_true_lang-T57IkxQE.js";import{d as K,s as c,p as v,u as Q,c as g,o as x,a as s,b as e,h as W,w as o,e as a,k as _,i as X,f as n,t as k,F as P,r as Y}from"./app-CZ_92QqR.js";import{P as Z}from"./plus-Y4C7Mf4N.js";import{E as ee}from"./eye-BvfQvPh6.js";import{S as le}from"./square-pen-C2muAAH8.js";import"./VisuallyHidden-pKzkU6Eb.js";import"./useForwardExpose-4i7abMob.js";const se={class:"space-y-6 p-6"},te={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},ae={class:"flex justify-end"},oe={key:0,class:"space-y-4"},re={class:"rounded-lg border border-red-200 bg-red-50 p-3 dark:border-red-800 dark:bg-red-900/20"},ne={class:"flex items-start space-x-2"},ie={class:"text-sm text-red-700 dark:text-red-300"},de={class:"space-y-4"},ue={class:"rounded-lg border border-red-200 bg-red-50 p-3 dark:border-red-800 dark:bg-red-900/20"},me={class:"flex items-start space-x-2"},ce={class:"text-sm text-red-700 dark:text-red-300"},fe={class:"max-h-32 overflow-y-auto"},pe={class:"text-sm text-gray-600 dark:text-gray-400"},ke={class:"mt-1 space-y-1"},$e=K({__name:"Index",props:{skills:{}},setup(ve){const w=[y.id(),z("skill_name","Skill Name",{sortable:!0,searchable:!0,class:"font-semibold"}),y.createdAt()],{handleSearch:A,handleSort:E,handlePageChange:N,handleFilter:T,clearFilters:V,refresh:b,loading:R}=G({baseRoute:c("skills.index"),defaultSort:{field:"skill_name",order:"asc"},defaultPerPage:10,columns:w.map(t=>({key:t.key,sortable:t.sortable,searchable:t.searchable}))}),f=v(!1),u=v(!1),m=v(null),i=v([]),h=Q({}),I=t=>{m.value=t,f.value=!0},j=()=>{m.value&&h.delete(c("skills.destroy",m.value.id),{onBefore:()=>{f.value=!1,m.value=null},onSuccess:()=>b(),onError:()=>{}})},M=t=>{i.value=t,u.value=!0},O=()=>{const t=i.value.map(l=>l.id);_.post(c("skills.bulk-destroy"),{ids:t},{onSuccess:()=>{b(),u.value=!1,i.value=[]},onError:()=>{u.value=!1}})},U=[{icon:ee,variant:"outline",tooltip:"View skill details",onClick:t=>{_.visit(c("skills.show",{skill:t.id}))},class:"text-blue-600 hover:text-blue-700 border-blue-200 hover:border-blue-300"},{icon:le,variant:"outline",tooltip:"Edit skill",onClick:t=>{_.visit(c("skills.edit",{skill:t.id}))},class:"text-green-600 hover:text-green-700 border-green-200 hover:border-green-300"},{icon:d,variant:"destructive",tooltip:"Delete skill",onClick:I,class:"text-red-600 hover:text-red-700"}],q=t=>{t.action==="delete"&&M(t.selectedRows)},L=()=>V();return(t,l)=>(x(),g(P,null,[s(e(W),{title:"Skills"}),s(J,null,{default:o(()=>[a("div",se,[a("div",te,[l[6]||(l[6]=a("div",null,[a("h1",{class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"}," Skills "),a("p",{class:"text-gray-600 dark:text-gray-400"}," Manage skills and technologies ")],-1)),a("div",ae,[s(e(p),{onClick:l[0]||(l[0]=r=>e(_).visit(e(c)("skills.create"))),class:"flex w-full cursor-pointer items-center space-x-2 sm:w-auto"},{default:o(()=>[s(e(Z),{class:"h-4 w-4"}),l[5]||(l[5]=a("span",null,"Create Skill",-1))]),_:1})])]),s(H,{data:t.skills.data,columns:w,actions:U,"total-records":t.skills.meta.total,loading:e(R),"current-page":t.skills.meta.current_page,"default-rows-per-page":t.skills.meta.per_page,"last-page":t.skills.meta.last_page,searchable:"",sortable:"",paginator:"",filterable:"",exportable:"","selection-mode":"multiple",onSearch:e(A),onSort:e(E),onPageChange:e(N),onFilter:e(T),onClearFilters:L,onRefresh:e(b),onBulkAction:q},null,8,["data","total-records","loading","current-page","default-rows-per-page","last-page","onSearch","onSort","onPageChange","onFilter","onRefresh"])]),s(e(C),{open:f.value,"onUpdate:open":l[2]||(l[2]=r=>f.value=r)},{default:o(()=>[s(e(S),{class:"sm:max-w-md"},{default:o(()=>[s(e(D),null,{default:o(()=>[s(e($),{class:"flex items-center space-x-2"},{default:o(()=>[s(e(d),{class:"h-5 w-5 text-red-500"}),l[7]||(l[7]=a("span",null,"Delete Skill",-1))]),_:1}),s(e(F),null,{default:o(()=>[...l[8]||(l[8]=[n(" Are you sure you want to delete this skill? ",-1)])]),_:1})]),_:1}),m.value?(x(),g("div",oe,[a("div",re,[a("div",ne,[s(e(d),{class:"mt-0.5 h-4 w-4 text-red-600 dark:text-red-400"}),a("div",ie,[a("strong",null,k(m.value.skill_name),1),l[9]||(l[9]=n(" will be deleted. ",-1))])])])])):X("",!0),s(e(B),{class:"space-x-2"},{default:o(()=>[s(e(p),{variant:"outline",onClick:l[1]||(l[1]=r=>f.value=!1)},{default:o(()=>[...l[10]||(l[10]=[n("Cancel",-1)])]),_:1}),s(e(p),{variant:"destructive",onClick:j,loading:e(h).processing},{default:o(()=>[s(e(d),{class:"mr-2 h-4 w-4"}),l[11]||(l[11]=n("Delete ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["open"]),s(e(C),{open:u.value,"onUpdate:open":l[4]||(l[4]=r=>u.value=r)},{default:o(()=>[s(e(S),{class:"sm:max-w-lg"},{default:o(()=>[s(e(D),null,{default:o(()=>[s(e($),{class:"flex items-center space-x-2"},{default:o(()=>[s(e(d),{class:"h-5 w-5 text-red-500"}),l[12]||(l[12]=a("span",null,"Delete Multiple Skills",-1))]),_:1}),s(e(F),null,{default:o(()=>[n(" Are you sure you want to delete "+k(i.value.length)+" selected items? ",1)]),_:1})]),_:1}),a("div",de,[a("div",ue,[a("div",me,[s(e(d),{class:"mt-0.5 h-4 w-4 text-red-600 dark:text-red-400"}),a("div",ce,[a("strong",null,k(i.value.length)+" items",1),l[13]||(l[13]=n(" will be deleted. ",-1))])])]),a("div",fe,[a("div",pe,[l[14]||(l[14]=a("strong",null,"Items to be deleted:",-1)),a("ul",ke,[(x(!0),g(P,null,Y(i.value,r=>(x(),g("li",{key:r.id,class:"text-sm"}," â€¢ "+k(r.skill_name),1))),128))])])])]),s(e(B),{class:"space-x-2"},{default:o(()=>[s(e(p),{variant:"outline",onClick:l[3]||(l[3]=r=>u.value=!1)},{default:o(()=>[...l[15]||(l[15]=[n(" Cancel ",-1)])]),_:1}),s(e(p),{variant:"destructive",onClick:O,loading:e(h).processing},{default:o(()=>[s(e(d),{class:"mr-2 h-4 w-4"}),n(" Delete All ("+k(i.value.length)+") ",1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{$e as default};
