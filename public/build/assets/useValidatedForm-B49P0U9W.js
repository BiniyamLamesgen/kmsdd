import{p as X,Q as _e,q as w,P as p,b as C,l as gr,D as Ie,m as fe,ae as Ke,a7 as Wr,ac as Kr,M as Zr,L as ee,X as Gr,a8 as Ye,aa as Hr,k as Yr}from"./app-WCoSBNF8.js";import{Z as ir,c as Xr,d as br}from"./types-D45As3cg.js";/**
  * vee-validate v4.15.1
  * (c) 2025 Abdelrahman Awad
  * @license MIT
  */function q(e){return typeof e=="function"}function Or(e){return e==null}const ve=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Xe(e){return Number(e)>=0}function Qr(e){const r=parseFloat(e);return isNaN(r)?e:r}function Jr(e){return typeof e=="object"&&e!==null}function et(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function ar(e){if(!Jr(e)||et(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let r=e;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}function je(e,r){return Object.keys(r).forEach(t=>{if(ar(r[t])&&ar(e[t])){e[t]||(e[t]={}),je(e[t],r[t]);return}e[t]=r[t]}),e}function Oe(e){const r=e.split(".");if(!r.length)return"";let t=String(r[0]);for(let n=1;n<r.length;n++){if(Xe(r[n])){t+=`[${r[n]}]`;continue}t+=`.${r[n]}`}return t}const rt={};function tt(e){return rt[e]}function lr(e,r,t){typeof t.value=="object"&&(t.value=F(t.value)),!t.enumerable||t.get||t.set||!t.configurable||!t.writable||r==="__proto__"?Object.defineProperty(e,r,t):e[r]=t.value}function F(e){if(typeof e!="object")return e;var r=0,t,n,o,l=Object.prototype.toString.call(e);if(l==="[object Object]"?o=Object.create(e.__proto__||null):l==="[object Array]"?o=Array(e.length):l==="[object Set]"?(o=new Set,e.forEach(function(c){o.add(F(c))})):l==="[object Map]"?(o=new Map,e.forEach(function(c,f){o.set(F(f),F(c))})):l==="[object Date]"?o=new Date(+e):l==="[object RegExp]"?o=new RegExp(e.source,e.flags):l==="[object DataView]"?o=new e.constructor(F(e.buffer)):l==="[object ArrayBuffer]"?o=e.slice(0):l.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)lr(o,n[r],Object.getOwnPropertyDescriptor(e,n[r]));for(r=0,n=Object.getOwnPropertyNames(e);r<n.length;r++)Object.hasOwnProperty.call(o,t=n[r])&&o[t]===e[t]||lr(o,t,Object.getOwnPropertyDescriptor(e,t))}return o||e}const Qe=Symbol("vee-validate-form"),nt=Symbol("vee-validate-form-context"),it=Symbol("vee-validate-field-instance"),or=Symbol("Default empty value"),at=typeof window<"u";function Ze(e){return q(e)&&!!e.__locatorRef}function Q(e){return!!e&&q(e.parse)&&e.__type==="VVTypedSchema"}function Ce(e){return!!e&&q(e.validate)}function Vr(e){return e==="checkbox"||e==="radio"}function lt(e){return ve(e)||Array.isArray(e)}function ot(e){return Array.isArray(e)?e.length===0:ve(e)&&Object.keys(e).length===0}function Ee(e){return/^\[.+\]$/i.test(e)}function ut(e){return _r(e)&&e.multiple}function _r(e){return e.tagName==="SELECT"}function st(e){return jr(e)&&e.target&&"submit"in e.target}function jr(e){return e?!!(typeof Event<"u"&&q(Event)&&e instanceof Event||e&&e.srcElement):!1}function z(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var t,n,o;if(Array.isArray(e)){if(t=e.length,t!=r.length)return!1;for(n=t;n--!==0;)if(!z(e[n],r[n]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(n of e.entries())if(!r.has(n[0]))return!1;for(n of e.entries())if(!z(n[1],r.get(n[0])))return!1;return!0}if(sr(e)&&sr(r))return!(e.size!==r.size||e.name!==r.name||e.lastModified!==r.lastModified||e.type!==r.type);if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(n of e.entries())if(!r.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(t=e.length,t!=r.length)return!1;for(n=t;n--!==0;)if(e[n]!==r[n])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(e=ur(e),r=ur(r),o=Object.keys(e),t=o.length,t!==Object.keys(r).length)return!1;for(n=t;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return!1;for(n=t;n--!==0;){var l=o[n];if(!z(e[l],r[l]))return!1}return!0}return e!==e&&r!==r}function ur(e){return Object.fromEntries(Object.entries(e).filter(([,r])=>r!==void 0))}function sr(e){return at?e instanceof File:!1}function Ne(e){return Ee(e)?e.replace(/\[|\]/gi,""):e}function W(e,r,t){return e?Ee(r)?e[Ne(r)]:(r||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,l)=>lt(o)&&l in o?o[l]:t,e):t}function ne(e,r,t){if(Ee(r)){e[Ne(r)]=t;return}const n=r.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let l=0;l<n.length;l++){if(l===n.length-1){o[n[l]]=t;return}(!(n[l]in o)||Or(o[n[l]]))&&(o[n[l]]=Xe(n[l+1])?[]:{}),o=o[n[l]]}}function qe(e,r){if(Array.isArray(e)&&Xe(r)){e.splice(Number(r),1);return}ve(e)&&delete e[r]}function cr(e,r){if(Ee(r)){delete e[Ne(r)];return}const t=r.split(/\.|\[(\d+)\]/).filter(Boolean);let n=e;for(let l=0;l<t.length;l++){if(l===t.length-1){qe(n,t[l]);break}if(!(t[l]in n)||Or(n[t[l]]))break;n=n[t[l]]}const o=t.map((l,c)=>W(e,t.slice(0,c).join(".")));for(let l=o.length-1;l>=0;l--)if(ot(o[l])){if(l===0){qe(e,t[0]);continue}qe(o[l-1],t[l-1])}}function K(e){return Object.keys(e)}function Er(e,r=void 0){const t=Ye();return t?.provides[e]||Hr(e,r)}function ct(e,r,t){if(Array.isArray(e)){const n=[...e],o=n.findIndex(l=>z(l,r));return o>=0?n.splice(o,1):n.push(r),n}return z(e,r)?t:r}function dr(e,r=0){let t=null,n=[];return function(...o){return t&&clearTimeout(t),t=setTimeout(()=>{const l=e(...o);n.forEach(c=>c(l)),n=[]},r),new Promise(l=>n.push(l))}}function dt(e,r){return ve(r)&&r.number?Qr(e):e}function Ge(e,r){let t;return async function(...o){const l=e(...o);t=l;const c=await l;return l!==t?c:(t=void 0,r(c,o))}}function He(e){return Array.isArray(e)?e:e?[e]:[]}function Pe(e,r){const t={};for(const n in e)r.includes(n)||(t[n]=e[n]);return t}function ft(e){let r=null,t=[];return function(...n){const o=ee(()=>{if(r!==o)return;const l=e(...n);t.forEach(c=>c(l)),t=[],r=null});return r=o,new Promise(l=>t.push(l))}}function We(e){if(Sr(e))return e._value}function Sr(e){return"_value"in e}function vt(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function Be(e){if(!jr(e))return e;const r=e.target;if(Vr(r.type)&&Sr(r))return We(r);if(r.type==="file"&&r.files){const t=Array.from(r.files);return r.multiple?t:t[0]}if(ut(r))return Array.from(r.options).filter(t=>t.selected&&!t.disabled).map(We);if(_r(r)){const t=Array.from(r.options).find(n=>n.selected);return t?We(t):r.value}return vt(r)}function Ar(e){const r={};return Object.defineProperty(r,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?ve(e)&&e._$$isNormalized?e:ve(e)?Object.keys(e).reduce((t,n)=>{const o=ht(e[n]);return e[n]!==!1&&(t[n]=fr(o)),t},r):typeof e!="string"?r:e.split("|").reduce((t,n)=>{const o=mt(n);return o.name&&(t[o.name]=fr(o.params)),t},r):r}function ht(e){return e===!0?[]:Array.isArray(e)||ve(e)?e:[e]}function fr(e){const r=t=>typeof t=="string"&&t[0]==="@"?pt(t.slice(1)):t;return Array.isArray(e)?e.map(r):e instanceof RegExp?[e]:Object.keys(e).reduce((t,n)=>(t[n]=r(e[n]),t),{})}const mt=e=>{let r=[];const t=e.split(":")[0];return e.includes(":")&&(r=e.split(":").slice(1).join(":").split(",")),{name:t,params:r}};function pt(e){const r=t=>{var n;return(n=W(t,e))!==null&&n!==void 0?n:t[e]};return r.__locatorRef=e,r}function yt(e){return Array.isArray(e)?e.filter(Ze):K(e).filter(r=>Ze(e[r])).map(r=>e[r])}const gt={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let bt=Object.assign({},gt);const Ve=()=>bt;async function Fr(e,r,t={}){const n=t?.bails,o={name:t?.name||"{field}",rules:r,label:t?.label,bails:n??!0,formData:t?.values||{}},l=await Ot(o,e);return Object.assign(Object.assign({},l),{valid:!l.errors.length})}async function Ot(e,r){const t=e.rules;if(Q(t)||Ce(t))return _t(r,Object.assign(Object.assign({},e),{rules:t}));if(q(t)||Array.isArray(t)){const f={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:r},v=Array.isArray(t)?t:[t],s=v.length,m=[];for(let _=0;_<s;_++){const S=v[_],b=await S(r,f);if(!(typeof b!="string"&&!Array.isArray(b)&&b)){if(Array.isArray(b))m.push(...b);else{const x=typeof b=="string"?b:wr(f);m.push(x)}if(e.bails)return{errors:m}}}return{errors:m}}const n=Object.assign(Object.assign({},e),{rules:Ar(t)}),o=[],l=Object.keys(n.rules),c=l.length;for(let f=0;f<c;f++){const v=l[f],s=await jt(n,r,{name:v,params:n.rules[v]});if(s.error&&(o.push(s.error),e.bails))return{errors:o}}return{errors:o}}function Vt(e){return!!e&&e.name==="ValidationError"}function Pr(e){return{__type:"VVTypedSchema",async parse(t,n){var o;try{return{output:await e.validate(t,{abortEarly:!1,context:n?.formData||{}}),errors:[]}}catch(l){if(!Vt(l))throw l;if(!(!((o=l.inner)===null||o===void 0)&&o.length)&&l.errors.length)return{errors:[{path:l.path,errors:l.errors}]};const c=l.inner.reduce((f,v)=>{const s=v.path||"";return f[s]||(f[s]={errors:[],path:s}),f[s].errors.push(...v.errors),f},{});return{errors:Object.values(c)}}}}}async function _t(e,r){const n=await(Q(r.rules)?r.rules:Pr(r.rules)).parse(e,{formData:r.formData}),o=[];for(const l of n.errors)l.errors.length&&o.push(...l.errors);return{value:n.value,errors:o}}async function jt(e,r,t){const n=tt(t.name);if(!n)throw new Error(`No such validator '${t.name}' exists.`);const o=Et(t.params,e.formData),l={field:e.label||e.name,name:e.name,label:e.label,value:r,form:e.formData,rule:Object.assign(Object.assign({},t),{params:o})},c=await n(r,o,l);return typeof c=="string"?{error:c}:{error:c?void 0:wr(l)}}function wr(e){const r=Ve().generateMessage;return r?r(e):"Field is invalid"}function Et(e,r){const t=n=>Ze(n)?n(r):n;return Array.isArray(e)?e.map(t):Object.keys(e).reduce((n,o)=>(n[o]=t(e[o]),n),{})}async function St(e,r){const n=await(Q(e)?e:Pr(e)).parse(F(r),{formData:F(r)}),o={},l={};for(const c of n.errors){const f=c.errors,v=(c.path||"").replace(/\["(\d+)"\]/g,(s,m)=>`[${m}]`);o[v]={valid:!f.length,errors:f},f.length&&(l[v]=f[0])}return{valid:!n.errors.length,results:o,errors:l,values:n.value,source:"schema"}}async function At(e,r,t){const o=K(e).map(async s=>{var m,_,S;const b=(m=t?.names)===null||m===void 0?void 0:m[s],A=await Fr(W(r,s),e[s],{name:b?.name||s,label:b?.label,values:r,bails:(S=(_=t?.bailsMap)===null||_===void 0?void 0:_[s])!==null&&S!==void 0?S:!0});return Object.assign(Object.assign({},A),{path:s})});let l=!0;const c=await Promise.all(o),f={},v={};for(const s of c)f[s.path]={valid:s.valid,errors:s.errors},s.valid||(l=!1,v[s.path]=s.errors[0]);return{valid:l,results:f,errors:v,source:"schema"}}let vr=0;function Ft(e,r){const{value:t,initialValue:n,setInitialValue:o}=Pt(e,r.modelValue,r.form);if(!r.form){let v=function(b){var A;"value"in b&&(t.value=b.value),"errors"in b&&m(b.errors),"touched"in b&&(S.touched=(A=b.touched)!==null&&A!==void 0?A:S.touched),"initialValue"in b&&o(b.initialValue)};const{errors:s,setErrors:m}=Ct(),_=vr>=Number.MAX_SAFE_INTEGER?0:++vr,S=It(t,n,s,r.schema);return{id:_,path:e,value:t,initialValue:n,meta:S,flags:{pendingUnmount:{[_]:!1},pendingReset:!1},errors:s,setState:v}}const l=r.form.createPathState(e,{bails:r.bails,label:r.label,type:r.type,validate:r.validate,schema:r.schema}),c=w(()=>l.errors);function f(v){var s,m,_;"value"in v&&(t.value=v.value),"errors"in v&&((s=r.form)===null||s===void 0||s.setFieldError(C(e),v.errors)),"touched"in v&&((m=r.form)===null||m===void 0||m.setFieldTouched(C(e),(_=v.touched)!==null&&_!==void 0?_:!1)),"initialValue"in v&&o(v.initialValue)}return{id:Array.isArray(l.id)?l.id[l.id.length-1]:l.id,path:e,value:t,errors:c,meta:l,initialValue:n,flags:l.__flags,setState:f}}function Pt(e,r,t){const n=X(C(r));function o(){return t?W(t.initialValues.value,C(e),C(n)):C(n)}function l(s){if(!t){n.value=s;return}t.setFieldInitialValue(C(e),s,!0)}const c=w(o);if(!t)return{value:X(o()),initialValue:c,setInitialValue:l};const f=wt(r,t,c,e);return t.stageInitialValue(C(e),f,!0),{value:w({get(){return W(t.values,C(e))},set(s){t.setFieldValue(C(e),s,!1)}}),initialValue:c,setInitialValue:l}}function wt(e,r,t,n){return Ie(e)?C(e):e!==void 0?e:W(r.values,C(n),C(t))}function It(e,r,t,n){const o=w(()=>{var c,f,v;return(v=(f=(c=p(n))===null||c===void 0?void 0:c.describe)===null||f===void 0?void 0:f.call(c).required)!==null&&v!==void 0?v:!1}),l=_e({touched:!1,pending:!1,valid:!0,required:o,validated:!!C(t).length,initialValue:w(()=>C(r)),dirty:w(()=>!z(C(e),C(r)))});return fe(t,c=>{l.valid=!c.length},{immediate:!0,flush:"sync"}),l}function Ct(){const e=X([]);return{errors:e,setErrors:r=>{e.value=He(r)}}}function Ht(e,r,t){return Vr(void 0)?Nt(e,r):Ir(e,r)}function Ir(e,r,t){const{initialValue:n,validateOnMount:o,bails:l,type:c,checkedValue:f,label:v,validateOnValueUpdate:s,uncheckedValue:m,controlled:_,keepValueOnUnmount:S,syncVModel:b,form:A}=Bt(),x=_?Er(Qe):void 0,j=A||x,E=w(()=>Oe(p(e))),M=w(()=>{if(p(j?.schema))return;const V=C(r);return Ce(V)||Q(V)||q(V)||Array.isArray(V)?V:Ar(V)}),Z=!q(M.value)&&Q(p(r)),{id:ie,value:he,initialValue:ue,meta:k,setState:me,errors:Se,flags:se}=Ft(E,{modelValue:n,form:j,bails:l,label:v,type:c,validate:M.value?le:void 0,schema:Z?r:void 0}),G=w(()=>Se.value[0]);b&&Tt({value:he,prop:b,handleChange:R,shouldValidate:()=>s&&!se.pendingReset});const pe=(h,V=!1)=>{k.touched=!0,V&&ae()};async function Ae(h){var V,I;if(j?.validateSchema){const{results:P}=await j.validateSchema(h);return(V=P[p(E)])!==null&&V!==void 0?V:{valid:!0,errors:[]}}return M.value?Fr(he.value,M.value,{name:p(E),label:p(v),values:(I=j?.values)!==null&&I!==void 0?I:{},bails:l}):{valid:!0,errors:[]}}const ae=Ge(async()=>(k.pending=!0,k.validated=!0,Ae("validated-only")),h=>(se.pendingUnmount[$.id]||(me({errors:h.errors}),k.pending=!1,k.valid=h.valid),h)),re=Ge(async()=>Ae("silent"),h=>(k.valid=h.valid,h));function le(h){return h?.mode==="silent"?re():ae()}function R(h,V=!0){const I=Be(h);ge(I,V)}gr(()=>{if(o)return ae();(!j||!j.validateSchema)&&re()});function Te(h){k.touched=h}function oe(h){var V;const I=h&&"value"in h?h.value:ue.value;me({value:F(I),initialValue:F(I),touched:(V=h?.touched)!==null&&V!==void 0?V:!1,errors:h?.errors||[]}),k.pending=!1,k.validated=!1,re()}const ce=Ye();function ge(h,V=!0){he.value=ce&&b?dt(h,ce.props.modelModifiers):h,(V?ae:re)()}function Fe(h){me({errors:Array.isArray(h)?h:[h]})}const Je=w({get(){return he.value},set(h){ge(h,s)}}),$={id:ie,name:E,label:v,value:Je,meta:k,errors:Se,errorMessage:G,type:c,checkedValue:f,uncheckedValue:m,bails:l,keepValueOnUnmount:S,resetField:oe,handleReset:()=>oe(),validate:le,handleChange:R,handleBlur:pe,setState:me,setTouched:Te,setErrors:Fe,setValue:ge};if(Ke(it,$),Ie(r)&&typeof C(r)!="function"&&fe(r,(h,V)=>{z(h,V)||(k.validated?ae():re())},{deep:!0}),!j)return $;const ke=w(()=>{const h=M.value;return!h||q(h)||Ce(h)||Q(h)||Array.isArray(h)?{}:Object.keys(h).reduce((V,I)=>{const P=yt(h[I]).map(te=>te.__locatorRef).reduce((te,J)=>{const H=W(j.values,J)||j.values[J];return H!==void 0&&(te[J]=H),te},{});return Object.assign(V,P),V},{})});return fe(ke,(h,V)=>{if(!Object.keys(h).length)return;!z(h,V)&&(k.validated?ae():re())}),Kr(()=>{var h;const V=(h=p($.keepValueOnUnmount))!==null&&h!==void 0?h:p(j.keepValuesOnUnmount),I=p(E);if(V||!j||se.pendingUnmount[$.id]){j?.removePathState(I,ie);return}se.pendingUnmount[$.id]=!0;const P=j.getPathState(I);if(Array.isArray(P?.id)&&P?.multiple?P?.id.includes($.id):P?.id===$.id){if(P?.multiple&&Array.isArray(P.value)){const J=P.value.findIndex(H=>z(H,p($.checkedValue)));if(J>-1){const H=[...P.value];H.splice(J,1),j.setFieldValue(I,H)}Array.isArray(P.id)&&P.id.splice(P.id.indexOf($.id),1)}else j.unsetPathValue(p(E));j.removePathState(I,ie)}}),$}function Bt(e){return Object.assign(Object.assign({},{initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),{initialValue:void 0})}function Nt(e,r,t){const n=Er(Qe),o=void 0,l=void 0;function c(f){const v=f.handleChange,s=w(()=>{const _=p(f.value),S=p(o);return Array.isArray(_)?_.findIndex(b=>z(b,S))>=0:z(S,_)});function m(_,S=!0){var b,A;if(s.value===((b=_?.target)===null||b===void 0?void 0:b.checked)){S&&f.validate();return}const x=p(e),j=n?.getPathState(x),E=Be(_);let M=(A=p(o))!==null&&A!==void 0?A:E;n&&j?.multiple&&j.type==="checkbox"&&(M=ct(W(n.values,x)||[],M,void 0)),v(M,S)}return Object.assign(Object.assign({},f),{checked:s,checkedValue:o,uncheckedValue:l,handleChange:m})}return c(Ir(e,r))}function Tt({prop:e,value:r,handleChange:t,shouldValidate:n}){const o=Ye();if(!o||!e)return;const l=typeof e=="string"?e:"modelValue",c=`update:${l}`;l in o.props&&(fe(r,f=>{z(f,hr(o,l))||o.emit(c,f)}),fe(()=>hr(o,l),f=>{if(f===or&&r.value===void 0)return;const v=f===or?void 0:f;z(v,r.value)||t(v,n())}))}function hr(e,r){if(e)return e.props[r]}let kt=0;const we=["bails","fieldsCount","id","multiple","type","validate"];function Cr(e){const r=e?.initialValues||{},t=Object.assign({},p(r)),n=C(e?.validationSchema);return n&&Q(n)&&q(n.cast)?F(n.cast(t)||{}):F(t)}function Mt(e){var r;const t=kt++,n=e?.name||"Form";let o=0;const l=X(!1),c=X(!1),f=X(0),v=[],s=_e(Cr(e)),m=X([]),_=X({}),S=X({}),b=ft(()=>{S.value=m.value.reduce((a,i)=>(a[Oe(p(i.path))]=i,a),{})});function A(a,i){const u=R(a);if(!u){typeof a=="string"&&(_.value[Oe(a)]=He(i));return}if(typeof a=="string"){const d=Oe(a);_.value[d]&&delete _.value[d]}u.errors=He(i),u.valid=!u.errors.length}function x(a){K(a).forEach(i=>{A(i,a[i])})}e?.initialErrors&&x(e.initialErrors);const j=w(()=>{const a=m.value.reduce((i,u)=>(u.errors.length&&(i[p(u.path)]=u.errors),i),{});return Object.assign(Object.assign({},_.value),a)}),E=w(()=>K(j.value).reduce((a,i)=>{const u=j.value[i];return u?.length&&(a[i]=u[0]),a},{})),M=w(()=>m.value.reduce((a,i)=>(a[p(i.path)]={name:p(i.path)||"",label:i.label||""},a),{})),Z=w(()=>m.value.reduce((a,i)=>{var u;return a[p(i.path)]=(u=i.bails)!==null&&u!==void 0?u:!0,a},{})),ie=Object.assign({},e?.initialErrors||{}),he=(r=e?.keepValuesOnUnmount)!==null&&r!==void 0?r:!1,{initialValues:ue,originalInitialValues:k,setInitialValues:me}=Ut(m,s,e),Se=Rt(m,s,k,E),se=w(()=>m.value.reduce((a,i)=>{const u=W(s,p(i.path));return ne(a,p(i.path),u),a},{})),G=e?.validationSchema;function pe(a,i){var u,d;const g=w(()=>W(ue.value,p(a))),O=S.value[p(a)],y=i?.type==="checkbox"||i?.type==="radio";if(O&&y){O.multiple=!0;const Y=o++;return Array.isArray(O.id)?O.id.push(Y):O.id=[O.id,Y],O.fieldsCount++,O.__flags.pendingUnmount[Y]=!1,O}const N=w(()=>W(s,p(a))),T=p(a),U=oe.findIndex(Y=>Y===T);U!==-1&&oe.splice(U,1);const B=w(()=>{var Y,be,xe,$e;const ze=p(G);if(Q(ze))return(be=(Y=ze.describe)===null||Y===void 0?void 0:Y.call(ze,p(a)).required)!==null&&be!==void 0?be:!1;const Le=p(i?.schema);return Q(Le)&&($e=(xe=Le.describe)===null||xe===void 0?void 0:xe.call(Le).required)!==null&&$e!==void 0?$e:!1}),D=o++,L=_e({id:D,path:a,touched:!1,pending:!1,valid:!0,validated:!!(!((u=ie[T])===null||u===void 0)&&u.length),required:B,initialValue:g,errors:Gr([]),bails:(d=i?.bails)!==null&&d!==void 0?d:!1,label:i?.label,type:i?.type||"default",value:N,multiple:!1,__flags:{pendingUnmount:{[D]:!1},pendingReset:!1},fieldsCount:1,validate:i?.validate,dirty:w(()=>!z(C(N),C(g)))});return m.value.push(L),S.value[T]=L,b(),E.value[T]&&!ie[T]&&ee(()=>{de(T,{mode:"silent"})}),Ie(a)&&fe(a,Y=>{b();const be=F(N.value);S.value[Y]=L,ee(()=>{ne(s,Y,be)})}),L}const Ae=dr(tr,5),ae=dr(tr,5),re=Ge(async a=>await(a==="silent"?Ae():ae()),(a,[i])=>{const u=K(V.errorBag.value),g=[...new Set([...K(a.results),...m.value.map(O=>O.path),...u])].sort().reduce((O,y)=>{var N;const T=y,U=R(T)||Te(T),B=((N=a.results[T])===null||N===void 0?void 0:N.errors)||[],D=p(U?.path)||T,L=Dt({errors:B,valid:!B.length},O.results[D]);return O.results[D]=L,L.valid||(O.errors[D]=L.errors[0]),U&&_.value[D]&&delete _.value[D],U?(U.valid=L.valid,i==="silent"||i==="validated-only"&&!U.validated||A(U,L.errors),O):(A(D,B),O)},{valid:a.valid,results:{},errors:{},source:a.source});return a.values&&(g.values=a.values,g.source=a.source),K(g.results).forEach(O=>{var y;const N=R(O);N&&i!=="silent"&&(i==="validated-only"&&!N.validated||A(N,(y=g.results[O])===null||y===void 0?void 0:y.errors))}),g});function le(a){m.value.forEach(a)}function R(a){const i=typeof a=="string"?Oe(a):a;return typeof i=="string"?S.value[i]:i}function Te(a){return m.value.filter(u=>a.startsWith(p(u.path))).reduce((u,d)=>u?d.path.length>u.path.length?d:u:d,void 0)}let oe=[],ce;function ge(a){return oe.push(a),ce||(ce=ee(()=>{[...oe].sort().reverse().forEach(u=>{cr(s,u)}),oe=[],ce=null})),ce}function Fe(a){return function(u,d){return function(O){return O instanceof Event&&(O.preventDefault(),O.stopPropagation()),le(y=>y.touched=!0),l.value=!0,f.value++,ye().then(y=>{const N=F(s);if(y.valid&&typeof u=="function"){const T=F(se.value);let U=a?T:N;return y.values&&(U=y.source==="schema"?y.values:Object.assign({},U,y.values)),u(U,{evt:O,controlledValues:T,setErrors:x,setFieldError:A,setTouched:Me,setFieldTouched:H,setValues:te,setFieldValue:I,resetForm:Re,resetField:er})}!y.valid&&typeof d=="function"&&d({values:N,evt:O,errors:y.errors,results:y.results})}).then(y=>(l.value=!1,y),y=>{throw l.value=!1,y})}}}const $=Fe(!1);$.withControlled=Fe(!0);function ke(a,i){const u=m.value.findIndex(g=>g.path===a&&(Array.isArray(g.id)?g.id.includes(i):g.id===i)),d=m.value[u];if(!(u===-1||!d)){if(ee(()=>{de(a,{mode:"silent",warn:!1})}),d.multiple&&d.fieldsCount&&d.fieldsCount--,Array.isArray(d.id)){const g=d.id.indexOf(i);g>=0&&d.id.splice(g,1),delete d.__flags.pendingUnmount[i]}(!d.multiple||d.fieldsCount<=0)&&(m.value.splice(u,1),rr(a),b(),delete S.value[a])}}function h(a){K(S.value).forEach(i=>{i.startsWith(a)&&delete S.value[i]}),m.value=m.value.filter(i=>!i.path.startsWith(a)),ee(()=>{b()})}const V={name:n,formId:t,values:s,controlledValues:se,errorBag:j,errors:E,schema:G,submitCount:f,meta:Se,isSubmitting:l,isValidating:c,fieldArrays:v,keepValuesOnUnmount:he,validateSchema:C(G)?re:void 0,validate:ye,setFieldError:A,validateField:de,setFieldValue:I,setValues:te,setErrors:x,setFieldTouched:H,setTouched:Me,resetForm:Re,resetField:er,handleSubmit:$,useFieldModel:zr,defineInputBinds:Lr,defineComponentBinds:qr,defineField:De,stageInitialValue:xr,unsetInitialValue:rr,setFieldInitialValue:Ue,createPathState:pe,getPathState:R,unsetPathValue:ge,removePathState:ke,initialValues:ue,getAllPathStates:()=>m.value,destroyPath:h,isFieldTouched:Rr,isFieldDirty:Ur,isFieldValid:Dr};function I(a,i,u=!0){const d=F(i),g=typeof a=="string"?a:a.path;R(g)||pe(g),ne(s,g,d),u&&de(g)}function P(a,i=!0){K(s).forEach(u=>{delete s[u]}),K(a).forEach(u=>{I(u,a[u],!1)}),i&&ye()}function te(a,i=!0){je(s,a),v.forEach(u=>u&&u.reset()),i&&ye()}function J(a,i){const u=R(p(a))||pe(a);return w({get(){return u.value},set(d){var g;const O=p(a);I(O,d,(g=p(i))!==null&&g!==void 0?g:!1)}})}function H(a,i){const u=R(a);u&&(u.touched=i)}function Rr(a){const i=R(a);return i?i.touched:m.value.filter(u=>u.path.startsWith(a)).some(u=>u.touched)}function Ur(a){const i=R(a);return i?i.dirty:m.value.filter(u=>u.path.startsWith(a)).some(u=>u.dirty)}function Dr(a){const i=R(a);return i?i.valid:m.value.filter(u=>u.path.startsWith(a)).every(u=>u.valid)}function Me(a){if(typeof a=="boolean"){le(i=>{i.touched=a});return}K(a).forEach(i=>{H(i,!!a[i])})}function er(a,i){var u;const d=i&&"value"in i?i.value:W(ue.value,a),g=R(a);g&&(g.__flags.pendingReset=!0),Ue(a,F(d),!0),I(a,d,!1),H(a,(u=i?.touched)!==null&&u!==void 0?u:!1),A(a,i?.errors||[]),ee(()=>{g&&(g.__flags.pendingReset=!1)})}function Re(a,i){let u=F(a?.values?a.values:k.value);u=i?.force?u:je(k.value,u),u=Q(G)&&q(G.cast)?G.cast(u):u,me(u,{force:i?.force}),le(d=>{var g;d.__flags.pendingReset=!0,d.validated=!1,d.touched=((g=a?.touched)===null||g===void 0?void 0:g[p(d.path)])||!1,I(p(d.path),W(u,p(d.path)),!1),A(p(d.path),void 0)}),i?.force?P(u,!1):te(u,!1),x(a?.errors||{}),f.value=a?.submitCount||0,ee(()=>{ye({mode:"silent"}),le(d=>{d.__flags.pendingReset=!1})})}async function ye(a){const i=a?.mode||"force";if(i==="force"&&le(y=>y.validated=!0),V.validateSchema)return V.validateSchema(i);c.value=!0;const u=await Promise.all(m.value.map(y=>y.validate?y.validate(a).then(N=>({key:p(y.path),valid:N.valid,errors:N.errors,value:N.value})):Promise.resolve({key:p(y.path),valid:!0,errors:[],value:void 0})));c.value=!1;const d={},g={},O={};for(const y of u)d[y.key]={valid:y.valid,errors:y.errors},y.value&&ne(O,y.key,y.value),y.errors.length&&(g[y.key]=y.errors[0]);return{valid:u.every(y=>y.valid),results:d,errors:g,values:O,source:"fields"}}async function de(a,i){var u;const d=R(a);if(d&&i?.mode!=="silent"&&(d.validated=!0),G){const{results:g}=await re(i?.mode||"validated-only");return g[a]||{errors:[],valid:!0}}return d?.validate?d.validate(i):(!d&&(u=i?.warn),Promise.resolve({errors:[],valid:!0}))}function rr(a){cr(ue.value,a)}function xr(a,i,u=!1){Ue(a,i),ne(s,a,i),u&&!e?.initialValues&&ne(k.value,a,F(i))}function Ue(a,i,u=!1){ne(ue.value,a,F(i)),u&&ne(k.value,a,F(i))}async function tr(){const a=C(G);if(!a)return{valid:!0,results:{},errors:{},source:"none"};c.value=!0;const i=Ce(a)||Q(a)?await St(a,s):await At(a,s,{names:M.value,bailsMap:Z.value});return c.value=!1,i}const $r=$((a,{evt:i})=>{st(i)&&i.target.submit()});gr(()=>{if(e?.initialErrors&&x(e.initialErrors),e?.initialTouched&&Me(e.initialTouched),e?.validateOnMount){ye();return}V.validateSchema&&V.validateSchema("silent")}),Ie(G)&&fe(G,()=>{var a;(a=V.validateSchema)===null||a===void 0||a.call(V,"validated-only")}),Ke(Qe,V);function De(a,i){const u=q(i)?void 0:i?.label,d=R(p(a))||pe(a,{label:u}),g=()=>q(i)?i(Pe(d,we)):i||{};function O(){var B;d.touched=!0,((B=g().validateOnBlur)!==null&&B!==void 0?B:Ve().validateOnBlur)&&de(p(d.path))}function y(){var B;((B=g().validateOnInput)!==null&&B!==void 0?B:Ve().validateOnInput)&&ee(()=>{de(p(d.path))})}function N(){var B;((B=g().validateOnChange)!==null&&B!==void 0?B:Ve().validateOnChange)&&ee(()=>{de(p(d.path))})}const T=w(()=>{const B={onChange:N,onInput:y,onBlur:O};return q(i)?Object.assign(Object.assign({},B),i(Pe(d,we)).props||{}):i?.props?Object.assign(Object.assign({},B),i.props(Pe(d,we))):B});return[J(a,()=>{var B,D,L;return(L=(B=g().validateOnModelUpdate)!==null&&B!==void 0?B:(D=Ve())===null||D===void 0?void 0:D.validateOnModelUpdate)!==null&&L!==void 0?L:!0}),T]}function zr(a){return Array.isArray(a)?a.map(i=>J(i,!0)):J(a)}function Lr(a,i){const[u,d]=De(a,i);function g(){d.value.onBlur()}function O(N){const T=Be(N);I(p(a),T,!1),d.value.onInput()}function y(N){const T=Be(N);I(p(a),T,!1),d.value.onChange()}return w(()=>Object.assign(Object.assign({},d.value),{onBlur:g,onInput:O,onChange:y,value:u.value}))}function qr(a,i){const[u,d]=De(a,i),g=R(p(a));function O(y){u.value=y}return w(()=>{const y=q(i)?i(Pe(g,we)):i||{};return Object.assign({[y.model||"modelValue"]:u.value,[`onUpdate:${y.model||"modelValue"}`]:O},d.value)})}const nr=Object.assign(Object.assign({},V),{values:Wr(s),handleReset:()=>Re(),submitForm:$r});return Ke(nt,nr),nr}function Rt(e,r,t,n){const o={touched:"some",pending:"some",valid:"every"},l=w(()=>!z(r,C(t)));function c(){const v=e.value;return K(o).reduce((s,m)=>{const _=o[m];return s[m]=v[_](S=>S[m]),s},{})}const f=_e(c());return Zr(()=>{const v=c();f.touched=v.touched,f.valid=v.valid,f.pending=v.pending}),w(()=>Object.assign(Object.assign({initialValues:C(t)},f),{valid:f.valid&&!K(n.value).length,dirty:l.value}))}function Ut(e,r,t){const n=Cr(t),o=X(n),l=X(F(n));function c(f,v){v?.force?(o.value=F(f),l.value=F(f)):(o.value=je(F(o.value)||{},F(f)),l.value=je(F(l.value)||{},F(f))),v?.updateFields&&e.value.forEach(s=>{if(s.touched)return;const _=W(o.value,p(s.path));ne(r,p(s.path),F(_))})}return{initialValues:o,originalInitialValues:l,setInitialValues:c}}function Dt(e,r){return r?{valid:e.valid&&r.valid,errors:[...e.errors,...r.errors]}:e}/**
  * vee-validate v4.15.1
  * (c) 2025 Abdelrahman Awad
  * @license MIT
  */const mr=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Br(e){return Number(e)>=0}function xt(e){return typeof e=="object"&&e!==null}function $t(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function pr(e){if(!xt(e)||$t(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let r=e;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}function Nr(e,r){return Object.keys(r).forEach(t=>{if(pr(r[t])&&pr(e[t])){e[t]||(e[t]={}),Nr(e[t],r[t]);return}e[t]=r[t]}),e}function zt(e){const r=e.split(".");if(!r.length)return"";let t=String(r[0]);for(let n=1;n<r.length;n++){if(Br(r[n])){t+=`[${r[n]}]`;continue}t+=`.${r[n]}`}return t}function Lt(e,r){return{__type:"VVTypedSchema",async parse(n){const o=await e.safeParseAsync(n,r);if(o.success)return{value:o.data,errors:[]};const l={};return Tr(o.error.issues,l),{errors:Object.values(l)}},cast(n){try{return e.parse(n)}catch{const l=kr(e);return mr(l)&&mr(n)?Nr(l,n):n}},describe(n){try{if(!n)return{required:!e.isOptional(),exists:!0};const o=qt(n,e);return o?{required:!o.isOptional(),exists:!0}:{required:!1,exists:!1}}catch{return{required:!1,exists:!1}}}}}function Tr(e,r){e.forEach(t=>{const n=zt(t.path.join("."));t.code==="invalid_union"&&(Tr(t.unionErrors.flatMap(o=>o.issues),r),!n)||(r[n]||(r[n]={errors:[],path:n}),r[n].errors.push(t.message))})}function kr(e){if(e instanceof ir)return Object.fromEntries(Object.entries(e.shape).map(([r,t])=>t instanceof Xr?[r,t._def.defaultValue()]:t instanceof ir?[r,kr(t)]:[r,void 0]))}function qt(e,r){if(!yr(r))return null;if(Ee(e))return r.shape[Ne(e)];const t=(e||"").split(/\.|\[(\d+)\]/).filter(Boolean);let n=r;for(let o=0;o<=t.length;o++){const l=t[o];if(!l||!n)return n;if(yr(n)){n=n.shape[l]||null;continue}Br(l)&&Wt(n)&&(n=n._def.type)}return null}function Mr(e){return e._def.typeName}function Wt(e){return Mr(e)===br.ZodArray}function yr(e){return Mr(e)===br.ZodObject}function Kt(){const e=_e({});return{backendErrors:e,mapBackendErrors:(c,f)=>{console.log("Backend errors received:",c),Object.entries(c).forEach(([v,s])=>{if(s){const m=Array.isArray(s)?s[0]:s;console.log(`Setting error for field ${v}:`,m),f(v,m),e[v]=s}})},getBackendError:c=>{const f=e[c];return f?Array.isArray(f)?f[0]:f:""},clearBackendErrors:()=>{Object.keys(e).forEach(c=>{delete e[c]})},clearBackendError:c=>{e[c]&&delete e[c]},hasBackendError:c=>!!e[c]}}function Yt(e,r,t){const{backendErrors:n,mapBackendErrors:o,getBackendError:l,clearBackendErrors:c,clearBackendError:f,hasBackendError:v}=Kt(),s=Mt({validationSchema:Lt(e),initialValues:r});return{...s,backendErrors:n,getBackendError:l,clearBackendError:f,hasBackendError:v,submitForm:(_,S,b)=>s.handleSubmit(async()=>{c();let A=b?b(s.values):s.values;Object.keys(A).forEach(E=>{A[E+"File"]instanceof File&&(A[E]=A[E+"File"])});const x=Object.values(A).some(E=>E instanceof File||E&&typeof E=="object"&&"name"in E&&"size"in E);let j=A;if(x){const E=new FormData;Object.entries(A).forEach(([M,Z])=>{Z instanceof File?E.append(M,Z):Array.isArray(Z)&&Z[0]instanceof File?Z.forEach(ie=>E.append(M,ie)):E.append(M,Z??"")}),j=E}Yr.post(t,j,{forceFormData:x,onError:E=>{o(E,(M,Z)=>{s.setFieldError(M,Z)}),S?.(E)},onSuccess:E=>{s.resetForm(),_?.()}})})}}export{Ht as a,Yt as u};
