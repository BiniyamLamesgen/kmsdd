import{d as $,s as f,u as h,c as u,o as m,a as o,b as e,h as Y,w as i,e as a,f as d,g as F,i as p,n as c,t as n,j as N,F as w,r as T,v as j,k as v}from"./app-WCoSBNF8.js";import{_ as g}from"./index-gtYP4Z27.js";import{_ as B,a as U,b as z,c as A}from"./CardTitle.vue_vue_type_script_setup_true_lang-CqPOizUP.js";import{_ as I}from"./CardDescription.vue_vue_type_script_setup_true_lang-BsvAwo7b.js";import{_,a as x}from"./Label.vue_vue_type_script_setup_true_lang-DA93N1nt.js";import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-BkSasf_i.js";import{A as G}from"./arrow-left-BmVZzzhP.js";import{S as L}from"./star-BalVDEFp.js";import{o as M,u as q,s as y,n as P}from"./types-D45As3cg.js";import"./useForwardExpose-j55gvhwt.js";import"./VisuallyHidden-CkRoF75v.js";const H={class:"mx-auto max-w-6xl space-y-6 p-4 sm:p-6 lg:p-8"},J={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},K={class:"flex flex-col space-y-2 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4"},O={class:"grid grid-cols-1 gap-6 lg:gap-8 xl:grid-cols-2"},Q={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 lg:gap-6"},R={class:"space-y-2"},W={key:0,class:"text-sm text-red-600"},X={class:"space-y-2"},Z={key:0,class:"text-sm text-red-600"},ee={class:"space-y-2"},se={key:0,class:"text-sm text-red-600"},te={class:"space-y-2"},oe=["value"],re={key:0,class:"text-sm text-red-600"},ae={class:"flex flex-col items-center justify-end space-y-3 border-t pt-6 sm:flex-row sm:space-y-0 sm:space-x-4"},ge=$({__name:"Create",props:{employees:{}},setup(k){const V=k,C=[{title:"Education",href:f("educations.index")},{title:"Create",href:""}],t=h({field_of_study:"",institution:"",graduation_year:"",employee_id:""}),S=M({field_of_study:y().max(255).optional(),institution:y().max(255).optional(),graduation_year:y().optional().refine(l=>!l||/^\d{4}$/.test(l),{message:"Graduation year must be a valid year (YYYY)"}),employee_id:q([y(),P()]).refine(l=>String(l).length>0,{message:"Employee is required"})}),E=()=>{const l=S.safeParse(t.data());if(t.errors={},!l.success){l.error.issues.forEach(r=>{r.path[0]&&(t.errors[r.path[0]]=r.message)});return}const s={...t.data(),employee_id:Number(t.employee_id)};t.post(f("educations.store"),{...s,onSuccess:()=>{v.visit(f("educations.index"))}})},b=()=>{v.visit(f("educations.index"))};return(l,s)=>(m(),u(w,null,[o(e(Y),{title:"Create Education"}),o(D,{breadcrumbs:C},{default:i(()=>[a("div",H,[a("div",J,[a("div",K,[o(e(g),{variant:"outline",size:"sm",onClick:b,class:"w-fit cursor-pointer"},{default:i(()=>[o(e(G),{class:"mr-2 h-4 w-4"}),s[4]||(s[4]=d(" Back ",-1))]),_:1}),s[5]||(s[5]=a("div",null,[a("h1",{class:"text-2xl font-semibold text-gray-900 sm:text-3xl dark:text-gray-100"}," Create Education "),a("p",{class:"text-sm text-gray-600 sm:text-base dark:text-gray-400"}," Add a new education record to your organization. ")],-1))])]),a("form",{onSubmit:F(E,["prevent"]),class:"space-y-6"},[a("div",O,[o(e(B),{class:"xl:col-span-2"},{default:i(()=>[o(e(U),null,{default:i(()=>[o(e(z),{class:"flex items-center space-x-2"},{default:i(()=>[o(e(L),{class:"h-5 w-5"}),s[6]||(s[6]=a("span",null,"Education Information",-1))]),_:1}),o(e(I),null,{default:i(()=>[...s[7]||(s[7]=[d(" Enter the details for the new education record. ",-1)])]),_:1})]),_:1}),o(e(A),null,{default:i(()=>[a("div",Q,[a("div",R,[o(e(_),{for:"field_of_study"},{default:i(()=>[...s[8]||(s[8]=[d("Field of Study",-1)])]),_:1}),o(e(x),{id:"field_of_study",modelValue:e(t).field_of_study,"onUpdate:modelValue":s[0]||(s[0]=r=>e(t).field_of_study=r),placeholder:"Field of study",class:c([{"border-red-500":e(t).errors.field_of_study},"w-full"])},null,8,["modelValue","class"]),e(t).errors.field_of_study?(m(),u("p",W,n(e(t).errors.field_of_study),1)):p("",!0)]),a("div",X,[o(e(_),{for:"institution"},{default:i(()=>[...s[9]||(s[9]=[d("Institution",-1)])]),_:1}),o(e(x),{id:"institution",modelValue:e(t).institution,"onUpdate:modelValue":s[1]||(s[1]=r=>e(t).institution=r),placeholder:"Institution",class:c([{"border-red-500":e(t).errors.institution},"w-full"])},null,8,["modelValue","class"]),e(t).errors.institution?(m(),u("p",Z,n(e(t).errors.institution),1)):p("",!0)]),a("div",ee,[o(e(_),{for:"graduation_year"},{default:i(()=>[...s[10]||(s[10]=[d("Graduation Year",-1)])]),_:1}),o(e(x),{id:"graduation_year",modelValue:e(t).graduation_year,"onUpdate:modelValue":s[2]||(s[2]=r=>e(t).graduation_year=r),placeholder:"YYYY",class:c([{"border-red-500":e(t).errors.graduation_year},"w-full"])},null,8,["modelValue","class"]),e(t).errors.graduation_year?(m(),u("p",se,n(e(t).errors.graduation_year),1)):p("",!0)]),a("div",te,[o(e(_),{for:"employee_id"},{default:i(()=>[...s[11]||(s[11]=[d("Employee *",-1)])]),_:1}),N(a("select",{id:"employee_id","onUpdate:modelValue":s[3]||(s[3]=r=>e(t).employee_id=r),class:c(["w-full rounded border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:ring-2 focus:ring-blue-500 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100",{"border-red-500":e(t).errors.employee_id}])},[s[12]||(s[12]=a("option",{value:"",disabled:""}," Select employee ",-1)),(m(!0),u(w,null,T(V.employees,r=>(m(),u("option",{key:r.id,value:r.id},n(r.first_name)+" "+n(r.last_name)+" ("+n(r.position)+", "+n(r.department)+") ",9,oe))),128))],2),[[j,e(t).employee_id]]),e(t).errors.employee_id?(m(),u("p",re,n(e(t).errors.employee_id),1)):p("",!0)])])]),_:1})]),_:1})]),a("div",ae,[o(e(g),{type:"button",variant:"outline",onClick:b,class:"order-2 w-full cursor-pointer sm:order-1 sm:w-auto"},{default:i(()=>[...s[13]||(s[13]=[d(" Cancel ",-1)])]),_:1}),o(e(g),{type:"submit",loading:e(t).processing,class:"order-1 w-full cursor-pointer sm:order-2 sm:w-auto",disabled:e(t).errors.employee_id},{default:i(()=>[...s[14]||(s[14]=[d(" Create Education ",-1)])]),_:1},8,["loading","disabled"])])],32)])]),_:1})],64))}});export{ge as default};
