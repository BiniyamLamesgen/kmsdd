import{d as $,E,s as f,u as U,c as i,o as n,a as r,b as e,h as N,w as l,e as o,f as d,g as D,j,i as p,n as u,F as w,r as T,t as m,v as q,G as v,k as V}from"./app-CZ_92QqR.js";import{_ as g}from"./index-CTru82cN.js";import{_ as B,a as A,b as F,c as M}from"./CardTitle.vue_vue_type_script_setup_true_lang-DfGcf0Z4.js";import{_ as z}from"./CardDescription.vue_vue_type_script_setup_true_lang-CKXr_5eH.js";import{_ as c,a as y}from"./Label.vue_vue_type_script_setup_true_lang-B7j9Y3LL.js";import{_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-T57IkxQE.js";import{A as R}from"./arrow-left-B3JA7Mme.js";import{S as h}from"./star-cuxqIf77.js";import{o as G,s as _,n as I}from"./types-D45As3cg.js";import"./useForwardExpose-4i7abMob.js";import"./VisuallyHidden-pKzkU6Eb.js";const O={class:"mx-auto max-w-4xl space-y-6 p-4 sm:p-6 lg:p-8"},H={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},J={class:"flex flex-col space-y-2 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4"},K={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 lg:gap-6"},Q={class:"space-y-2"},W=["value"],X={key:0,class:"text-sm text-red-600"},Y={class:"space-y-2"},Z={key:0,class:"text-sm text-red-600"},ee={class:"space-y-2"},te={key:0,class:"text-sm text-red-600"},se={class:"space-y-2"},re={key:0,class:"text-sm text-red-600"},oe={class:"space-y-2"},ae={key:0,class:"text-sm text-red-600"},le={class:"space-y-2 md:col-span-2 lg:col-span-3"},de={key:0,class:"text-sm text-red-600"},ie={class:"space-y-2 md:col-span-2 lg:col-span-3"},ne={key:0,class:"text-sm text-red-600"},me={class:"flex flex-col items-center justify-end space-y-3 border-t pt-6 sm:flex-row sm:space-y-0 sm:space-x-4"},ke=$({__name:"Create",setup(pe){const k=E().props.employees,C=[{title:"Projects",href:f("projects.index")},{title:"Create",href:""}],s=U({employee_id:"",project_name:"",description:"",role:"",start_date:"",end_date:"",outcome:""}),P=G({employee_id:I({required_error:"Employee is required"}),project_name:_().min(1,"Project name is required").max(255),description:_().max(5e3).optional(),role:_().max(255).optional(),start_date:_().optional(),end_date:_().optional(),outcome:_().max(5e3).optional()}),S=()=>{if(s.errors={},s.employee_id===""){s.errors.employee_id="Employee is required";return}const x=P.safeParse({...s.data(),employee_id:Number(s.employee_id)});if(!x.success){x.error.issues.forEach(t=>{t.path[0]&&(s.errors[t.path[0]]=t.message)});return}s.post(f("projects.store"),{onSuccess:()=>{V.visit(f("projects.index"))}})},b=()=>{V.visit(f("projects.index"))};return(x,t)=>(n(),i(w,null,[r(e(N),{title:"Create Project"}),r(L,{breadcrumbs:C},{default:l(()=>[o("div",O,[o("div",H,[o("div",J,[r(e(g),{variant:"outline",size:"sm",onClick:b,class:"w-fit cursor-pointer"},{default:l(()=>[r(e(R),{class:"mr-2 h-4 w-4"}),t[7]||(t[7]=d(" Back ",-1))]),_:1}),t[8]||(t[8]=o("div",null,[o("h1",{class:"text-2xl font-semibold text-gray-900 sm:text-3xl dark:text-gray-100"}," Create Project "),o("p",{class:"text-sm text-gray-600 sm:text-base dark:text-gray-400"}," Add a new project for an employee. ")],-1))])]),o("form",{onSubmit:D(S,["prevent"]),class:"space-y-6"},[r(e(B),null,{default:l(()=>[r(e(A),null,{default:l(()=>[r(e(F),{class:"flex items-center space-x-2"},{default:l(()=>[r(e(h),{class:"h-5 w-5"}),t[9]||(t[9]=o("span",null,"Project Information",-1))]),_:1}),r(e(z),null,{default:l(()=>[...t[10]||(t[10]=[d(" Enter the details for the new project. ",-1)])]),_:1})]),_:1}),r(e(M),null,{default:l(()=>[o("div",K,[o("div",Q,[r(e(c),{for:"employee_id"},{default:l(()=>[...t[11]||(t[11]=[d("Employee *",-1)])]),_:1}),j(o("select",{id:"employee_id","onUpdate:modelValue":t[0]||(t[0]=a=>e(s).employee_id=a),class:u(["w-full rounded border",e(s).errors.employee_id?"border-red-500":"border-gray-300"])},[t[12]||(t[12]=o("option",{value:""},"Select employee",-1)),(n(!0),i(w,null,T(e(k),a=>(n(),i("option",{key:a.id,value:a.id},m(a.first_name)+" "+m(a.last_name),9,W))),128))],2),[[q,e(s).employee_id]]),e(s).errors.employee_id?(n(),i("p",X,m(e(s).errors.employee_id),1)):p("",!0)]),o("div",Y,[r(e(c),{for:"project_name"},{default:l(()=>[...t[13]||(t[13]=[d("Project Name *",-1)])]),_:1}),r(e(y),{id:"project_name",modelValue:e(s).project_name,"onUpdate:modelValue":t[1]||(t[1]=a=>e(s).project_name=a),placeholder:"Project name",class:u([{"border-red-500":e(s).errors.project_name},"w-full"])},null,8,["modelValue","class"]),e(s).errors.project_name?(n(),i("p",Z,m(e(s).errors.project_name),1)):p("",!0)]),o("div",ee,[r(e(c),{for:"role"},{default:l(()=>[...t[14]||(t[14]=[d("Role",-1)])]),_:1}),r(e(y),{id:"role",modelValue:e(s).role,"onUpdate:modelValue":t[2]||(t[2]=a=>e(s).role=a),placeholder:"Role in project",class:u([{"border-red-500":e(s).errors.role},"w-full"])},null,8,["modelValue","class"]),e(s).errors.role?(n(),i("p",te,m(e(s).errors.role),1)):p("",!0)]),o("div",se,[r(e(c),{for:"start_date"},{default:l(()=>[...t[15]||(t[15]=[d("Start Date",-1)])]),_:1}),r(e(y),{id:"start_date",type:"date",modelValue:e(s).start_date,"onUpdate:modelValue":t[3]||(t[3]=a=>e(s).start_date=a),class:u([{"border-red-500":e(s).errors.start_date},"w-full"])},null,8,["modelValue","class"]),e(s).errors.start_date?(n(),i("p",re,m(e(s).errors.start_date),1)):p("",!0)]),o("div",oe,[r(e(c),{for:"end_date"},{default:l(()=>[...t[16]||(t[16]=[d("End Date",-1)])]),_:1}),r(e(y),{id:"end_date",type:"date",modelValue:e(s).end_date,"onUpdate:modelValue":t[4]||(t[4]=a=>e(s).end_date=a),class:u([{"border-red-500":e(s).errors.end_date},"w-full"])},null,8,["modelValue","class"]),e(s).errors.end_date?(n(),i("p",ae,m(e(s).errors.end_date),1)):p("",!0)]),o("div",le,[r(e(c),{for:"description"},{default:l(()=>[...t[17]||(t[17]=[d("Description",-1)])]),_:1}),j(o("textarea",{id:"description","onUpdate:modelValue":t[5]||(t[5]=a=>e(s).description=a),placeholder:"Project description",rows:"3",class:u(["w-full rounded border px-3 py-2",e(s).errors.description?"border-red-500":"border-gray-300"])},null,2),[[v,e(s).description]]),e(s).errors.description?(n(),i("p",de,m(e(s).errors.description),1)):p("",!0)]),o("div",ie,[r(e(c),{for:"outcome"},{default:l(()=>[...t[18]||(t[18]=[d("Outcome",-1)])]),_:1}),j(o("textarea",{id:"outcome","onUpdate:modelValue":t[6]||(t[6]=a=>e(s).outcome=a),placeholder:"Project outcome",rows:"2",class:u(["w-full rounded border px-3 py-2",e(s).errors.outcome?"border-red-500":"border-gray-300"])},null,2),[[v,e(s).outcome]]),e(s).errors.outcome?(n(),i("p",ne,m(e(s).errors.outcome),1)):p("",!0)])])]),_:1})]),_:1}),o("div",me,[r(e(g),{type:"button",variant:"outline",onClick:b,class:"order-2 w-full cursor-pointer sm:order-1 sm:w-auto"},{default:l(()=>[...t[19]||(t[19]=[d(" Cancel ",-1)])]),_:1}),r(e(g),{type:"submit",loading:e(s).processing,class:"order-1 w-full cursor-pointer sm:order-2 sm:w-auto"},{default:l(()=>[...t[20]||(t[20]=[d(" Create Project ",-1)])]),_:1},8,["loading"])])],32)])]),_:1})],64))}});export{ke as default};
