import{d as j,s as p,u as N,c as a,o as i,a as d,b as e,h as U,w as l,e as o,f as u,g as q,j as b,i as f,n as _,F as y,r as k,t as n,v,k as V}from"./app-CZ_92QqR.js";import{_ as w}from"./index-CTru82cN.js";import{_ as D,a as F,b as z,c as A}from"./CardTitle.vue_vue_type_script_setup_true_lang-DfGcf0Z4.js";import{_ as L}from"./CardDescription.vue_vue_type_script_setup_true_lang-CKXr_5eH.js";import{_ as c,a as M}from"./Label.vue_vue_type_script_setup_true_lang-B7j9Y3LL.js";import{_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-T57IkxQE.js";import{A as I}from"./arrow-left-B3JA7Mme.js";import{B as G}from"./badge-plus-DWBM5Z_L.js";import{o as H,s as g,u as E,n as S}from"./types-D45As3cg.js";import"./useForwardExpose-4i7abMob.js";import"./VisuallyHidden-pKzkU6Eb.js";const J={class:"mx-auto max-w-6xl space-y-6 p-4 sm:p-6 lg:p-8"},K={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},O={class:"flex flex-col space-y-2 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4"},Q={class:"grid grid-cols-1 gap-6 lg:gap-8 xl:grid-cols-2"},R={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 lg:gap-6"},W={class:"space-y-2"},X=["value"],Y={key:0,class:"text-sm text-red-600"},Z={class:"space-y-2"},ee=["value"],se={key:0,class:"text-sm text-red-600"},re={class:"space-y-2"},te=["value"],oe={key:0,class:"text-sm text-red-600"},de={class:"space-y-2"},le={key:0,class:"text-sm text-red-600"},ne={class:"flex flex-col items-center justify-end space-y-3 border-t pt-6 sm:flex-row sm:space-y-0 sm:space-x-4"},be=j({__name:"Create",props:{employees:{},skills:{}},setup($){const x=$,h=[{title:"Endorsements",href:p("endorsements.index")},{title:"Create",href:""}],r=N({employee_id:"",skill_id:"",endorsed_by:"",endorsement_date:""}),B=H({employee_id:E([g(),S()]).refine(m=>String(m).length>0,{message:"Employee is required"}),skill_id:E([g(),S()]).refine(m=>String(m).length>0,{message:"Skill is required"}),endorsed_by:E([g(),S()]).refine(m=>String(m).length>0,{message:"Endorser is required"}),endorsement_date:g().optional()}),T=()=>{const m=B.safeParse(r.data());if(r.errors={},!m.success){m.error.issues.forEach(s=>{s.path[0]&&(r.errors[s.path[0]]=s.message)});return}r.post(p("endorsements.store"),{onSuccess:()=>{V.visit(p("endorsements.index"))}})},C=()=>{V.visit(p("endorsements.index"))};return(m,s)=>(i(),a(y,null,[d(e(U),{title:"Create Endorsement"}),d(P,{breadcrumbs:h},{default:l(()=>[o("div",J,[o("div",K,[o("div",O,[d(e(w),{variant:"outline",size:"sm",onClick:C,class:"w-fit cursor-pointer"},{default:l(()=>[d(e(I),{class:"mr-2 h-4 w-4"}),s[4]||(s[4]=u(" Back ",-1))]),_:1}),s[5]||(s[5]=o("div",null,[o("h1",{class:"text-2xl font-semibold text-gray-900 sm:text-3xl dark:text-gray-100"}," Create Endorsement "),o("p",{class:"text-sm text-gray-600 sm:text-base dark:text-gray-400"}," Endorse an employee for a skill. ")],-1))])]),o("form",{onSubmit:q(T,["prevent"]),class:"space-y-6"},[o("div",Q,[d(e(D),{class:"xl:col-span-2"},{default:l(()=>[d(e(F),null,{default:l(()=>[d(e(z),{class:"flex items-center space-x-2"},{default:l(()=>[d(e(G),{class:"h-5 w-5"}),s[6]||(s[6]=o("span",null,"Endorsement Information",-1))]),_:1}),d(e(L),null,{default:l(()=>[...s[7]||(s[7]=[u(" Enter the details for the new endorsement. ",-1)])]),_:1})]),_:1}),d(e(A),null,{default:l(()=>[o("div",R,[o("div",W,[d(e(c),{for:"employee_id"},{default:l(()=>[...s[8]||(s[8]=[u("Employee *",-1)])]),_:1}),b(o("select",{id:"employee_id","onUpdate:modelValue":s[0]||(s[0]=t=>e(r).employee_id=t),class:_(["w-full rounded border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:ring-2 focus:ring-blue-500 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100",{"border-red-500":e(r).errors.employee_id}])},[s[9]||(s[9]=o("option",{value:"",disabled:""},"Select employee",-1)),(i(!0),a(y,null,k(x.employees,t=>(i(),a("option",{key:t.id,value:t.id},n(t.first_name)+" "+n(t.last_name)+" ("+n(t.position)+", "+n(t.department)+") ",9,X))),128))],2),[[v,e(r).employee_id]]),e(r).errors.employee_id?(i(),a("p",Y,n(e(r).errors.employee_id),1)):f("",!0)]),o("div",Z,[d(e(c),{for:"skill_id"},{default:l(()=>[...s[10]||(s[10]=[u("Skill *",-1)])]),_:1}),b(o("select",{id:"skill_id","onUpdate:modelValue":s[1]||(s[1]=t=>e(r).skill_id=t),class:_(["w-full rounded border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:ring-2 focus:ring-blue-500 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100",{"border-red-500":e(r).errors.skill_id}])},[s[11]||(s[11]=o("option",{value:"",disabled:""},"Select skill",-1)),(i(!0),a(y,null,k(x.skills,t=>(i(),a("option",{key:t.id,value:t.id},n(t.skill_name),9,ee))),128))],2),[[v,e(r).skill_id]]),e(r).errors.skill_id?(i(),a("p",se,n(e(r).errors.skill_id),1)):f("",!0)]),o("div",re,[d(e(c),{for:"endorsed_by"},{default:l(()=>[...s[12]||(s[12]=[u("Endorsed By *",-1)])]),_:1}),b(o("select",{id:"endorsed_by","onUpdate:modelValue":s[2]||(s[2]=t=>e(r).endorsed_by=t),class:_(["w-full rounded border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:ring-2 focus:ring-blue-500 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100",{"border-red-500":e(r).errors.endorsed_by}])},[s[13]||(s[13]=o("option",{value:"",disabled:""},"Select endorser",-1)),(i(!0),a(y,null,k(x.employees,t=>(i(),a("option",{key:t.id,value:t.id},n(t.first_name)+" "+n(t.last_name)+" ("+n(t.position)+", "+n(t.department)+") ",9,te))),128))],2),[[v,e(r).endorsed_by]]),e(r).errors.endorsed_by?(i(),a("p",oe,n(e(r).errors.endorsed_by),1)):f("",!0)]),o("div",de,[d(e(c),{for:"endorsement_date"},{default:l(()=>[...s[14]||(s[14]=[u("Endorsement Date",-1)])]),_:1}),d(e(M),{id:"endorsement_date",type:"date",modelValue:e(r).endorsement_date,"onUpdate:modelValue":s[3]||(s[3]=t=>e(r).endorsement_date=t),class:_([{"border-red-500":e(r).errors.endorsement_date},"w-full"])},null,8,["modelValue","class"]),e(r).errors.endorsement_date?(i(),a("p",le,n(e(r).errors.endorsement_date),1)):f("",!0)])])]),_:1})]),_:1})]),o("div",ne,[d(e(w),{type:"button",variant:"outline",onClick:C,class:"order-2 w-full cursor-pointer sm:order-1 sm:w-auto"},{default:l(()=>[...s[15]||(s[15]=[u(" Cancel ",-1)])]),_:1}),d(e(w),{type:"submit",loading:e(r).processing,class:"order-1 w-full cursor-pointer sm:order-2 sm:w-auto",disabled:e(r).errors.employee_id||e(r).errors.skill_id||e(r).errors.endorsed_by},{default:l(()=>[...s[16]||(s[16]=[u(" Create Endorsement ",-1)])]),_:1},8,["loading","disabled"])])],32)])]),_:1})],64))}});export{be as default};
