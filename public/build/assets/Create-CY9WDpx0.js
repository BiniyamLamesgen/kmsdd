import{d as R,s as w,p as v,u as T,c as i,o as n,a as o,b as e,h as N,w as a,e as l,f as d,g as V,i as u,n as m,t as p,j as C,F as j,r as G,v as L,k as M}from"./app-B8cnIyhQ.js";import{_ as k}from"./index-C4qItS30.js";import{_ as A,a as B,b as q,c as z}from"./CardTitle.vue_vue_type_script_setup_true_lang-C1LfM9oQ.js";import{_ as H}from"./CardDescription.vue_vue_type_script_setup_true_lang-Bm2-B4Cb.js";import{_ as f,a as c}from"./Label.vue_vue_type_script_setup_true_lang-TEKdcw0c.js";import{_ as J}from"./AppLayout.vue_vue_type_script_setup_true_lang-KgpCTNUL.js";import{A as O}from"./arrow-left-ayoWbgUT.js";import{S as W}from"./star-Bpic7xZo.js";import{U as Y}from"./upload-BJHis0WE.js";import{o as K,s as _,b as Q,a as X,u as Z,n as ee}from"./types-D45As3cg.js";import"./useForwardExpose-BKx_IIGC.js";import"./VisuallyHidden-DfpOj_YV.js";const se={class:"max-w-6xl space-y-6 p-4 sm:p-6 lg:p-8"},te={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},re={class:"flex flex-col space-y-2 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4"},oe={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 lg:gap-6"},le={class:"space-y-2"},ae={key:0,class:"text-sm text-red-600"},ie={class:"space-y-2"},ne={key:0,class:"text-sm text-red-600"},de={class:"space-y-2"},pe={key:0,class:"text-sm text-red-600"},ue={class:"space-y-2"},me=["value"],fe={key:0,class:"text-sm text-red-600"},_e={class:"space-y-2"},ce={key:0,class:"text-sm text-red-600"},xe={class:"space-y-2"},ge={key:0,class:"text-sm text-red-600"},be={class:"space-y-2"},ye={key:0,class:"text-sm text-red-600"},we={class:"space-y-2"},ve={key:0,class:"text-sm text-red-600"},Ve={class:"space-y-2"},ke={key:0,class:"text-sm text-red-600"},he={class:"space-y-2"},Ue={key:0,class:"text-sm text-red-600"},Pe={class:"space-y-2"},Ce={key:0,class:"text-sm text-red-600"},je={class:"space-y-2"},Le={key:0,class:"text-sm text-red-600"},Ee={class:"space-y-2"},Fe={key:0,class:"text-sm text-red-600"},Ie={class:"space-y-2"},Se={key:0,class:"text-sm text-red-600"},$e={class:"space-y-2"},De={key:0,class:"text-sm text-red-600"},Re={class:"space-y-2"},Te={key:0,class:"text-sm text-red-600"},Ne={class:"space-y-2"},Ge={key:0,class:"text-sm text-red-600"},Me={class:"mt-8 border-t pt-6"},Ae={class:"space-y-4"},Be={key:0,class:"mb-4"},qe=["src"],ze={class:"space-y-2"},He={class:"text-center"},Je={class:"text-lg font-medium text-gray-700"},Oe={key:0,class:"text-sm text-red-600"},We={class:"flex flex-col items-center justify-end space-y-3 border-t pt-6 sm:flex-row sm:space-y-0 sm:space-x-4"},is=R({__name:"Create",props:{departments:{}},setup(E){const F=E,I=[{title:"Employees",href:w("employees.index")},{title:"Create",href:""}],g=v(null),h=v(null),b=v(null),t=T({first_name:"",last_name:"",position:"",department_id:"",email:"",phone:"",internal_extension:"",profile_picture:"",date_joined:"",linkedin:"",facebook:"",twitter:"",github:"",personal_website:"",languages:"",mentoring_interest:"",availability_for_sharing:!1,password:"",profile_picture_file:null}),S=K({first_name:_().min(1,"First name is required").max(255),last_name:_().min(1,"Last name is required").max(255),position:_().min(1,"Position is required").max(255),department_id:Z([_(),ee()]).optional(),email:_().email("Invalid email address").max(255),phone:_().max(255).optional(),internal_extension:_().max(255).optional(),profile_picture:_().max(500).optional(),profile_picture_file:X().optional(),date_joined:_().optional(),linkedin:_().max(255).optional(),facebook:_().max(255).optional(),twitter:_().max(255).optional(),github:_().max(255).optional(),personal_website:_().max(255).optional(),languages:_().max(255).optional(),mentoring_interest:_().max(5e3).optional(),availability_for_sharing:Q(),password:_().min(6,"Password is required and must be at least 6 characters")});function U(y){const s=y.target;if(b.value=null,s.files&&s.files[0]){const r=s.files[0];if(!r.type.startsWith("image/")){b.value="Only image files are allowed",t.profile_picture_file=null,g.value=null;return}t.profile_picture_file=r;const x=new FileReader;x.onload=D=>{g.value=D.target?.result},x.readAsDataURL(r)}else t.profile_picture_file=null,g.value=null}const $=()=>{const y=S.safeParse(t.data());if(t.errors={},!y.success){y.error.issues.forEach(r=>{r.path[0]&&(t.errors[r.path[0]]=r.message)});return}const s=new FormData;Object.entries(t.data()).forEach(([r,x])=>{r==="profile_picture_file"&&x instanceof File?s.append("profile_picture",x):r!=="profile_picture_file"&&r!=="profile_picture"&&x!==void 0&&x!==null&&s.append(r,x)}),t.post(w("employees.store"),s)},P=()=>{M.visit(w("employees.index"))};return(y,s)=>(n(),i(j,null,[o(e(N),{title:"Create Employee"}),o(J,{breadcrumbs:I},{default:a(()=>[l("div",se,[l("div",te,[l("div",re,[o(e(k),{variant:"outline",size:"sm",onClick:P,class:"w-fit cursor-pointer"},{default:a(()=>[o(e(O),{class:"mr-2 h-4 w-4"}),s[19]||(s[19]=d(" Back ",-1))]),_:1}),s[20]||(s[20]=l("div",null,[l("h1",{class:"text-2xl font-semibold text-gray-900 sm:text-3xl dark:text-gray-100"}," Create Employee "),l("p",{class:"text-sm text-gray-600 sm:text-base dark:text-gray-400"}," Add a new employee to your organization. ")],-1))])]),l("form",{onSubmit:V($,["prevent"]),class:"space-y-6",enctype:"multipart/form-data"},[o(e(A),null,{default:a(()=>[o(e(B),null,{default:a(()=>[o(e(q),{class:"flex items-center space-x-2"},{default:a(()=>[o(e(W),{class:"h-5 w-5"}),s[21]||(s[21]=l("span",null,"Employee Information",-1))]),_:1}),o(e(H),null,{default:a(()=>[...s[22]||(s[22]=[d(" Enter the details for the new employee. ",-1)])]),_:1})]),_:1}),o(e(z),null,{default:a(()=>[l("div",oe,[l("div",le,[o(e(f),{for:"first_name"},{default:a(()=>[...s[23]||(s[23]=[d("First Name *",-1)])]),_:1}),o(e(c),{id:"first_name",modelValue:e(t).first_name,"onUpdate:modelValue":s[0]||(s[0]=r=>e(t).first_name=r),placeholder:"First name",class:m([{"border-red-500":e(t).errors.first_name},"w-full"])},null,8,["modelValue","class"]),e(t).errors.first_name?(n(),i("p",ae,p(e(t).errors.first_name),1)):u("",!0)]),l("div",ie,[o(e(f),{for:"last_name"},{default:a(()=>[...s[24]||(s[24]=[d("Last Name *",-1)])]),_:1}),o(e(c),{id:"last_name",modelValue:e(t).last_name,"onUpdate:modelValue":s[1]||(s[1]=r=>e(t).last_name=r),placeholder:"Last name",class:m([{"border-red-500":e(t).errors.last_name},"w-full"])},null,8,["modelValue","class"]),e(t).errors.last_name?(n(),i("p",ne,p(e(t).errors.last_name),1)):u("",!0)]),l("div",de,[o(e(f),{for:"position"},{default:a(()=>[...s[25]||(s[25]=[d("Position *",-1)])]),_:1}),o(e(c),{id:"position",modelValue:e(t).position,"onUpdate:modelValue":s[2]||(s[2]=r=>e(t).position=r),placeholder:"Position",class:m([{"border-red-500":e(t).errors.position},"w-full"])},null,8,["modelValue","class"]),e(t).errors.position?(n(),i("p",pe,p(e(t).errors.position),1)):u("",!0)]),l("div",ue,[o(e(f),{for:"department_id"},{default:a(()=>[...s[26]||(s[26]=[d("Department",-1)])]),_:1}),C(l("select",{id:"department_id","onUpdate:modelValue":s[3]||(s[3]=r=>e(t).department_id=r),class:m(["w-full rounded border px-3 py-2",e(t).errors.department_id?"border-red-500":"border-gray-300"])},[s[27]||(s[27]=l("option",{value:""}," Select a department ",-1)),(n(!0),i(j,null,G(F.departments,r=>(n(),i("option",{key:r.id,value:r.id},p(r.name),9,me))),128))],2),[[L,e(t).department_id]]),e(t).errors.department_id?(n(),i("p",fe,p(e(t).errors.department_id),1)):u("",!0)]),l("div",_e,[o(e(f),{for:"email"},{default:a(()=>[...s[28]||(s[28]=[d("Email *",-1)])]),_:1}),o(e(c),{id:"email",modelValue:e(t).email,"onUpdate:modelValue":s[4]||(s[4]=r=>e(t).email=r),placeholder:"Email",class:m([{"border-red-500":e(t).errors.email},"w-full"])},null,8,["modelValue","class"]),e(t).errors.email?(n(),i("p",ce,p(e(t).errors.email),1)):u("",!0)]),l("div",xe,[o(e(f),{for:"phone"},{default:a(()=>[...s[29]||(s[29]=[d("Phone",-1)])]),_:1}),o(e(c),{id:"phone",modelValue:e(t).phone,"onUpdate:modelValue":s[5]||(s[5]=r=>e(t).phone=r),placeholder:"Phone",class:m([{"border-red-500":e(t).errors.phone},"w-full"])},null,8,["modelValue","class"]),e(t).errors.phone?(n(),i("p",ge,p(e(t).errors.phone),1)):u("",!0)]),l("div",be,[o(e(f),{for:"internal_extension"},{default:a(()=>[...s[30]||(s[30]=[d("Internal Extension",-1)])]),_:1}),o(e(c),{id:"internal_extension",modelValue:e(t).internal_extension,"onUpdate:modelValue":s[6]||(s[6]=r=>e(t).internal_extension=r),placeholder:"Internal extension",class:m([{"border-red-500":e(t).errors.internal_extension},"w-full"])},null,8,["modelValue","class"]),e(t).errors.internal_extension?(n(),i("p",ye,p(e(t).errors.internal_extension),1)):u("",!0)]),l("div",we,[o(e(f),{for:"date_joined"},{default:a(()=>[...s[31]||(s[31]=[d("Date Joined",-1)])]),_:1}),o(e(c),{id:"date_joined",type:"date",modelValue:e(t).date_joined,"onUpdate:modelValue":s[7]||(s[7]=r=>e(t).date_joined=r),class:m([{"border-red-500":e(t).errors.date_joined},"w-full"])},null,8,["modelValue","class"]),e(t).errors.date_joined?(n(),i("p",ve,p(e(t).errors.date_joined),1)):u("",!0)]),l("div",Ve,[o(e(f),{for:"linkedin"},{default:a(()=>[...s[32]||(s[32]=[d("LinkedIn",-1)])]),_:1}),o(e(c),{id:"linkedin",modelValue:e(t).linkedin,"onUpdate:modelValue":s[8]||(s[8]=r=>e(t).linkedin=r),placeholder:"LinkedIn URL",class:m([{"border-red-500":e(t).errors.linkedin},"w-full"])},null,8,["modelValue","class"]),e(t).errors.linkedin?(n(),i("p",ke,p(e(t).errors.linkedin),1)):u("",!0)]),l("div",he,[o(e(f),{for:"facebook"},{default:a(()=>[...s[33]||(s[33]=[d("Facebook",-1)])]),_:1}),o(e(c),{id:"facebook",modelValue:e(t).facebook,"onUpdate:modelValue":s[9]||(s[9]=r=>e(t).facebook=r),placeholder:"Facebook URL",class:m([{"border-red-500":e(t).errors.facebook},"w-full"])},null,8,["modelValue","class"]),e(t).errors.facebook?(n(),i("p",Ue,p(e(t).errors.facebook),1)):u("",!0)]),l("div",Pe,[o(e(f),{for:"twitter"},{default:a(()=>[...s[34]||(s[34]=[d("Twitter",-1)])]),_:1}),o(e(c),{id:"twitter",modelValue:e(t).twitter,"onUpdate:modelValue":s[10]||(s[10]=r=>e(t).twitter=r),placeholder:"Twitter URL",class:m([{"border-red-500":e(t).errors.twitter},"w-full"])},null,8,["modelValue","class"]),e(t).errors.twitter?(n(),i("p",Ce,p(e(t).errors.twitter),1)):u("",!0)]),l("div",je,[o(e(f),{for:"github"},{default:a(()=>[...s[35]||(s[35]=[d("GitHub",-1)])]),_:1}),o(e(c),{id:"github",modelValue:e(t).github,"onUpdate:modelValue":s[11]||(s[11]=r=>e(t).github=r),placeholder:"GitHub URL",class:m([{"border-red-500":e(t).errors.github},"w-full"])},null,8,["modelValue","class"]),e(t).errors.github?(n(),i("p",Le,p(e(t).errors.github),1)):u("",!0)]),l("div",Ee,[o(e(f),{for:"personal_website"},{default:a(()=>[...s[36]||(s[36]=[d("Personal Website",-1)])]),_:1}),o(e(c),{id:"personal_website",modelValue:e(t).personal_website,"onUpdate:modelValue":s[12]||(s[12]=r=>e(t).personal_website=r),placeholder:"Personal website URL",class:m([{"border-red-500":e(t).errors.personal_website},"w-full"])},null,8,["modelValue","class"]),e(t).errors.personal_website?(n(),i("p",Fe,p(e(t).errors.personal_website),1)):u("",!0)]),l("div",Ie,[o(e(f),{for:"languages"},{default:a(()=>[...s[37]||(s[37]=[d("Languages",-1)])]),_:1}),o(e(c),{id:"languages",modelValue:e(t).languages,"onUpdate:modelValue":s[13]||(s[13]=r=>e(t).languages=r),placeholder:"Languages",class:m([{"border-red-500":e(t).errors.languages},"w-full"])},null,8,["modelValue","class"]),e(t).errors.languages?(n(),i("p",Se,p(e(t).errors.languages),1)):u("",!0)]),l("div",$e,[o(e(f),{for:"mentoring_interest"},{default:a(()=>[...s[38]||(s[38]=[d("Mentoring Interest",-1)])]),_:1}),o(e(c),{id:"mentoring_interest",modelValue:e(t).mentoring_interest,"onUpdate:modelValue":s[14]||(s[14]=r=>e(t).mentoring_interest=r),placeholder:"Mentoring interest",class:m([{"border-red-500":e(t).errors.mentoring_interest},"w-full"])},null,8,["modelValue","class"]),e(t).errors.mentoring_interest?(n(),i("p",De,p(e(t).errors.mentoring_interest),1)):u("",!0)]),l("div",Re,[o(e(f),{for:"availability_for_sharing"},{default:a(()=>[...s[39]||(s[39]=[d("Available for Sharing",-1)])]),_:1}),C(l("select",{id:"availability_for_sharing","onUpdate:modelValue":s[15]||(s[15]=r=>e(t).availability_for_sharing=r),class:m(["w-full rounded border px-3 py-2",e(t).errors.availability_for_sharing?"border-red-500":"border-gray-300"])},[...s[40]||(s[40]=[l("option",{value:!0},"Yes",-1),l("option",{value:!1},"No",-1)])],2),[[L,e(t).availability_for_sharing]]),e(t).errors.availability_for_sharing?(n(),i("p",Te,p(e(t).errors.availability_for_sharing),1)):u("",!0)]),l("div",Ne,[o(e(f),{for:"password"},{default:a(()=>[...s[41]||(s[41]=[d("Password *",-1)])]),_:1}),o(e(c),{id:"password",type:"password",modelValue:e(t).password,"onUpdate:modelValue":s[16]||(s[16]=r=>e(t).password=r),placeholder:"Password",class:m([{"border-red-500":e(t).errors.password},"w-full"])},null,8,["modelValue","class"]),e(t).errors.password?(n(),i("p",Ge,p(e(t).errors.password),1)):u("",!0)])]),l("div",Me,[l("div",Ae,[o(e(f),{for:"profile_picture",class:"text-lg font-medium"},{default:a(()=>[...s[42]||(s[42]=[d("Profile Picture",-1)])]),_:1}),l("div",{onClick:s[17]||(s[17]=r=>h.value?.click()),onDragover:s[18]||(s[18]=V(()=>{},["prevent"])),onDrop:V(U,["prevent"]),class:m(["relative border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-blue-400 transition-colors duration-200 bg-gray-50 hover:bg-blue-50 min-h-[200px] flex flex-col items-center justify-center",{"border-red-300 bg-red-50":b.value||e(t).errors.profile_picture}])},[l("input",{ref_key:"imageInputRef",ref:h,id:"profile_picture",type:"file",accept:"image/*",onChange:U,class:"hidden"},null,544),g.value?(n(),i("div",Be,[l("img",{src:g.value,alt:"Profile Preview",class:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"},null,8,qe)])):u("",!0),l("div",ze,[o(e(Y),{class:"w-12 h-12 text-gray-400 mx-auto"}),l("div",He,[l("p",Je,p(g.value?"Change Profile Picture":"Upload Profile Picture"),1),s[43]||(s[43]=l("p",{class:"text-sm text-gray-500 mt-1"}," Drag and drop an image here, or click to select ",-1)),s[44]||(s[44]=l("p",{class:"text-xs text-gray-400 mt-1"}," Supports: JPG, PNG, GIF, SVG (Max: 2MB) ",-1))])])],34),b.value||e(t).errors.profile_picture?(n(),i("p",Oe,p(b.value||e(t).errors.profile_picture),1)):u("",!0)])])]),_:1})]),_:1}),l("div",We,[o(e(k),{type:"button",variant:"outline",onClick:P,class:"order-2 w-full cursor-pointer sm:order-1 sm:w-auto"},{default:a(()=>[...s[45]||(s[45]=[d(" Cancel ",-1)])]),_:1}),o(e(k),{type:"submit",loading:e(t).processing,class:"order-1 w-full cursor-pointer sm:order-2 sm:w-auto"},{default:a(()=>[...s[46]||(s[46]=[d(" Create Employee ",-1)])]),_:1},8,["loading"])])],32)])]),_:1})],64))}});export{is as default};
