import{C,c as v,u as z,_ as G,T as i,a as J}from"./useServerDataTable-CC_X09HA.js";import{_ as f}from"./index-gtYP4Z27.js";import{_ as S,a as D,b as $,c as F,d as B,e as P}from"./DialogTitle.vue_vue_type_script_setup_true_lang-C5hn0Roi.js";import{_ as K}from"./AppLayout.vue_vue_type_script_setup_true_lang-BkSasf_i.js";import{d as Q,s as p,p as x,u as W,c as h,o as _,a as s,b as e,h as X,w as r,e as l,k as y,i as Y,f as n,t as g,F as A,r as Z}from"./app-WCoSBNF8.js";import{P as ee}from"./plus-BaMQmwWi.js";import{S as te}from"./square-pen-CqN4BlLM.js";import"./VisuallyHidden-CkRoF75v.js";import"./useForwardExpose-j55gvhwt.js";const se={class:"space-y-6 p-6"},le={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},ae={key:0,class:"space-y-4"},re={class:"rounded-lg border border-red-200 bg-red-50 p-3 dark:border-red-800 dark:bg-red-900/20"},oe={class:"flex items-start space-x-2"},ne={class:"text-sm text-red-700 dark:text-red-300"},de={class:"space-y-4"},ie={class:"rounded-lg border border-red-200 bg-red-50 p-3 dark:border-red-800 dark:bg-red-900/20"},ue={class:"flex items-start space-x-2"},ce={class:"text-sm text-red-700 dark:text-red-300"},me={class:"max-h-32 overflow-y-auto"},fe={class:"text-sm text-gray-600 dark:text-gray-400"},pe={class:"mt-1 space-y-1"},Se=Q({__name:"Index",props:{heroSlides:{}},setup(ge){const w=[C.id(),v("title","Title",{sortable:!0,searchable:!0,class:"font-semibold"}),v("description","Description",{sortable:!0,searchable:!0,class:"text-gray-600 dark:text-gray-400"}),v("order","Order",{sortable:!0,searchable:!1,class:"text-center",headerClass:"text-center"}),v("image","Image",{sortable:!1,searchable:!1,render:a=>J(a,"hero slide image",40),class:"text-center",headerClass:"text-center"}),C.createdAt()],{handleSearch:T,handleSort:H,handlePageChange:I,handleFilter:E,clearFilters:N,refresh:b,loading:R}=z({baseRoute:p("hero-slides.index"),defaultSort:{field:"title",order:"asc"},defaultPerPage:8,columns:w.map(a=>({key:a.key,sortable:a.sortable,searchable:a.searchable}))}),m=x(!1),u=x(!1),c=x(null),d=x([]),k=W({}),V=a=>{c.value=a,m.value=!0},O=()=>{c.value&&k.delete(p("hero-slides.destroy",c.value.id),{onBefore:()=>{m.value=!1,c.value=null},onSuccess:()=>b(),onError:()=>{}})},j=a=>{d.value=a,u.value=!0},M=()=>{const a=d.value.map(t=>t.id);y.delete(p("hero-slides.bulk-destroy"),{data:{ids:a},onSuccess:()=>{b(),u.value=!1,d.value=[]},onError:()=>{u.value=!1}})},U=[{icon:te,variant:"outline",tooltip:"Edit hero slide",onClick:a=>{y.visit(p("hero-slides.edit",{heroSlide:a.id}))},class:"text-green-600 hover:text-green-700 border-green-200 hover:border-green-300"},{icon:i,variant:"destructive",tooltip:"Delete hero slide",onClick:V,class:"text-red-600 hover:text-red-700"}],q=a=>{a.action==="delete"&&j(a.selectedRows)},L=()=>N();return(a,t)=>(_(),h(A,null,[s(e(X),{title:"Hero Slides"}),s(K,null,{default:r(()=>[l("div",se,[l("div",le,[t[6]||(t[6]=l("div",null,[l("h1",{class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"},"Hero Slides"),l("p",{class:"text-gray-600 dark:text-gray-400"},"Manage hero slides for your homepage")],-1)),s(e(f),{onClick:t[0]||(t[0]=o=>e(y).visit(e(p)("hero-slides.create"))),class:"flex w-full cursor-pointer items-center justify-center space-x-2 sm:w-auto"},{default:r(()=>[s(e(ee),{class:"h-4 w-4"}),t[5]||(t[5]=l("span",null,"Create Hero Slide",-1))]),_:1})]),s(G,{data:a.heroSlides.data,columns:w,actions:U,"total-records":a.heroSlides.total,loading:e(R),"current-page":a.heroSlides.current_page,"default-rows-per-page":8,searchable:"",sortable:"",paginator:"",filterable:"",exportable:"","selection-mode":"multiple",onSearch:e(T),onSort:e(H),onPageChange:e(I),onFilter:e(E),onClearFilters:L,onRefresh:e(b),onBulkAction:q},null,8,["data","total-records","loading","current-page","onSearch","onSort","onPageChange","onFilter","onRefresh"])]),s(e(S),{open:m.value,"onUpdate:open":t[2]||(t[2]=o=>m.value=o)},{default:r(()=>[s(e(D),{class:"sm:max-w-md"},{default:r(()=>[s(e($),null,{default:r(()=>[s(e(F),{class:"flex items-center space-x-2"},{default:r(()=>[s(e(i),{class:"h-5 w-5 text-red-500"}),t[7]||(t[7]=l("span",null,"Delete Hero Slide",-1))]),_:1}),s(e(B),null,{default:r(()=>[...t[8]||(t[8]=[n(" Are you sure you want to delete this hero slide? ",-1)])]),_:1})]),_:1}),c.value?(_(),h("div",ae,[l("div",re,[l("div",oe,[s(e(i),{class:"mt-0.5 h-4 w-4 text-red-600 dark:text-red-400"}),l("div",ne,[l("strong",null,g(c.value.title),1),t[9]||(t[9]=n(" will be deleted. ",-1))])])])])):Y("",!0),s(e(P),{class:"space-x-2"},{default:r(()=>[s(e(f),{variant:"outline",onClick:t[1]||(t[1]=o=>m.value=!1)},{default:r(()=>[...t[10]||(t[10]=[n("Cancel",-1)])]),_:1}),s(e(f),{variant:"destructive",onClick:O,loading:e(k).processing},{default:r(()=>[s(e(i),{class:"mr-2 h-4 w-4"}),t[11]||(t[11]=n("Delete ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["open"]),s(e(S),{open:u.value,"onUpdate:open":t[4]||(t[4]=o=>u.value=o)},{default:r(()=>[s(e(D),{class:"sm:max-w-lg"},{default:r(()=>[s(e($),null,{default:r(()=>[s(e(F),{class:"flex items-center space-x-2"},{default:r(()=>[s(e(i),{class:"h-5 w-5 text-red-500"}),t[12]||(t[12]=l("span",null,"Delete Multiple Hero Slides",-1))]),_:1}),s(e(B),null,{default:r(()=>[n(" Are you sure you want to delete "+g(d.value.length)+" selected items? ",1)]),_:1})]),_:1}),l("div",de,[l("div",ie,[l("div",ue,[s(e(i),{class:"mt-0.5 h-4 w-4 text-red-600 dark:text-red-400"}),l("div",ce,[l("strong",null,g(d.value.length)+" items",1),t[13]||(t[13]=n(" will be deleted. ",-1))])])]),l("div",me,[l("div",fe,[t[14]||(t[14]=l("strong",null,"Items to be deleted:",-1)),l("ul",pe,[(_(!0),h(A,null,Z(d.value,o=>(_(),h("li",{key:o.id,class:"text-sm"},"â€¢ "+g(o.title),1))),128))])])])]),s(e(P),{class:"space-x-2"},{default:r(()=>[s(e(f),{variant:"outline",onClick:t[3]||(t[3]=o=>u.value=!1)},{default:r(()=>[...t[15]||(t[15]=[n(" Cancel ",-1)])]),_:1}),s(e(f),{variant:"destructive",onClick:M,loading:e(k).processing},{default:r(()=>[s(e(i),{class:"mr-2 h-4 w-4"}),n(" Delete All ("+g(d.value.length)+") ",1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Se as default};
