import{d as A,s as p,u as j,c as n,o as a,a as t,b as e,h as L,w as i,e as l,f as m,g as M,j as g,i as c,n as f,F as y,r as x,t as d,v as k,k as E}from"./app-BtxNwyw2.js";import{_ as b}from"./index-jPyfy9EI.js";import{_ as P,a as U,b as F,c as I}from"./CardTitle.vue_vue_type_script_setup_true_lang-FN0ZLx45.js";import{_ as q}from"./CardDescription.vue_vue_type_script_setup_true_lang-kVO9wE2d.js";import{_,a as z}from"./Label.vue_vue_type_script_setup_true_lang-C-ig4YK4.js";import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-CXKSQ9h2.js";import{A as G}from"./arrow-left-CdviPf8L.js";import{B as H}from"./badge-plus-bBz_hN5P.js";import{o as J,n as v,e as K,u as V,s as $}from"./types-D45As3cg.js";import"./useForwardExpose-AmO87qx4.js";import"./VisuallyHidden-DfHmtx4U.js";const O={class:"mx-auto max-w-6xl space-y-6 p-4 sm:p-6 lg:p-8"},Q={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},R={class:"flex flex-col space-y-2 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4"},W={class:"grid grid-cols-1 gap-6 lg:gap-8 xl:grid-cols-2"},X={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 lg:gap-6"},Y={class:"space-y-2"},Z=["value"],ee={key:0,class:"text-sm text-red-600"},se={class:"space-y-2"},re=["value"],oe={key:0,class:"text-sm text-red-600"},le={class:"space-y-2"},te=["value"],ie={key:0,class:"text-sm text-red-600"},ne={class:"space-y-2"},ae={key:0,class:"text-sm text-red-600"},de={class:"flex flex-col items-center justify-end space-y-3 border-t pt-6 sm:flex-row sm:space-y-0 sm:space-x-4"},ve=A({__name:"Create",props:{employees:{},skills:{}},setup(h){const w=h,B=[{title:"Employee Skills",href:p("employee-skills.index")},{title:"Create",href:""}],r=j({employee_id:"",skill_id:"",proficiency_level:"",endorsements_count:0}),S=["Beginner","Intermediate","Advanced","Expert"],N=J({employee_id:V([$(),v()]).refine(u=>String(u).length>0,{message:"Employee is required"}),skill_id:V([$(),v()]).refine(u=>String(u).length>0,{message:"Skill is required"}),proficiency_level:K(S,{errorMap:()=>({message:"Proficiency level must be one of: Beginner, Intermediate, Advanced, Expert."})}),endorsements_count:v().min(0).optional()}),T=()=>{const u=N.safeParse(r.data());if(r.errors={},!u.success){u.error.issues.forEach(o=>{o.path[0]&&(r.errors[o.path[0]]=o.message)});return}const s={...r.data(),employee_id:Number(r.employee_id),skill_id:Number(r.skill_id),endorsements_count:Number(r.endorsements_count)||0};r.post(p("employee-skills.store"),{...s,onSuccess:()=>{E.visit(p("employee-skills.index"))}})},C=()=>{E.visit(p("employee-skills.index"))};return(u,s)=>(a(),n(y,null,[t(e(L),{title:"Create Employee Skill"}),t(D,{breadcrumbs:B},{default:i(()=>[l("div",O,[l("div",Q,[l("div",R,[t(e(b),{variant:"outline",size:"sm",onClick:C,class:"w-fit cursor-pointer"},{default:i(()=>[t(e(G),{class:"mr-2 h-4 w-4"}),s[4]||(s[4]=m(" Back ",-1))]),_:1}),s[5]||(s[5]=l("div",null,[l("h1",{class:"text-2xl font-semibold text-gray-900 sm:text-3xl dark:text-gray-100"}," Create Employee Skill "),l("p",{class:"text-sm text-gray-600 sm:text-base dark:text-gray-400"}," Assign a skill to an employee. ")],-1))])]),l("form",{onSubmit:M(T,["prevent"]),class:"space-y-6"},[l("div",W,[t(e(P),{class:"xl:col-span-2"},{default:i(()=>[t(e(U),null,{default:i(()=>[t(e(F),{class:"flex items-center space-x-2"},{default:i(()=>[t(e(H),{class:"h-5 w-5"}),s[6]||(s[6]=l("span",null,"Employee Skill Information",-1))]),_:1}),t(e(q),null,{default:i(()=>[...s[7]||(s[7]=[m(" Enter the details for the new employee skill. ",-1)])]),_:1})]),_:1}),t(e(I),null,{default:i(()=>[l("div",X,[l("div",Y,[t(e(_),{for:"employee_id"},{default:i(()=>[...s[8]||(s[8]=[m("Employee *",-1)])]),_:1}),g(l("select",{id:"employee_id","onUpdate:modelValue":s[0]||(s[0]=o=>e(r).employee_id=o),class:f(["w-full rounded border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:ring-2 focus:ring-blue-500 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100",{"border-red-500":e(r).errors.employee_id}])},[s[9]||(s[9]=l("option",{value:"",disabled:""}," Select employee ",-1)),(a(!0),n(y,null,x(w.employees,o=>(a(),n("option",{key:o.id,value:o.id},d(o.first_name)+" "+d(o.last_name)+" ("+d(o.position)+", "+d(o.department)+") ",9,Z))),128))],2),[[k,e(r).employee_id]]),e(r).errors.employee_id?(a(),n("p",ee,d(e(r).errors.employee_id),1)):c("",!0)]),l("div",se,[t(e(_),{for:"skill_id"},{default:i(()=>[...s[10]||(s[10]=[m("Skill *",-1)])]),_:1}),g(l("select",{id:"skill_id","onUpdate:modelValue":s[1]||(s[1]=o=>e(r).skill_id=o),class:f(["w-full rounded border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:ring-2 focus:ring-blue-500 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100",{"border-red-500":e(r).errors.skill_id}])},[s[11]||(s[11]=l("option",{value:"",disabled:""}," Select skill ",-1)),(a(!0),n(y,null,x(w.skills,o=>(a(),n("option",{key:o.id,value:o.id},d(o.skill_name),9,re))),128))],2),[[k,e(r).skill_id]]),e(r).errors.skill_id?(a(),n("p",oe,d(e(r).errors.skill_id),1)):c("",!0)]),l("div",le,[t(e(_),{for:"proficiency_level"},{default:i(()=>[...s[12]||(s[12]=[m("Proficiency Level *",-1)])]),_:1}),g(l("select",{id:"proficiency_level","onUpdate:modelValue":s[2]||(s[2]=o=>e(r).proficiency_level=o),class:f(["w-full rounded border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:ring-2 focus:ring-blue-500 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100",{"border-red-500":e(r).errors.proficiency_level}])},[s[13]||(s[13]=l("option",{value:"",disabled:""}," Select proficiency level ",-1)),(a(),n(y,null,x(S,o=>l("option",{key:o,value:o},d(o),9,te)),64))],2),[[k,e(r).proficiency_level]]),e(r).errors.proficiency_level?(a(),n("p",ie,d(e(r).errors.proficiency_level),1)):c("",!0)]),l("div",ne,[t(e(_),{for:"endorsements_count"},{default:i(()=>[...s[14]||(s[14]=[m("Endorsements Count",-1)])]),_:1}),t(e(z),{id:"endorsements_count",type:"number",min:"0",modelValue:e(r).endorsements_count,"onUpdate:modelValue":s[3]||(s[3]=o=>e(r).endorsements_count=o),modelModifiers:{number:!0},placeholder:"0",class:f([{"border-red-500":e(r).errors.endorsements_count},"w-full"])},null,8,["modelValue","class"]),e(r).errors.endorsements_count?(a(),n("p",ae,d(e(r).errors.endorsements_count),1)):c("",!0)])])]),_:1})]),_:1})]),l("div",de,[t(e(b),{type:"button",variant:"outline",onClick:C,class:"order-2 w-full cursor-pointer sm:order-1 sm:w-auto"},{default:i(()=>[...s[15]||(s[15]=[m(" Cancel ",-1)])]),_:1}),t(e(b),{type:"submit",loading:e(r).processing,class:"order-1 w-full cursor-pointer sm:order-2 sm:w-auto",disabled:e(r).errors.employee_id||e(r).errors.skill_id},{default:i(()=>[...s[16]||(s[16]=[m(" Create Employee Skill ",-1)])]),_:1},8,["loading","disabled"])])],32)])]),_:1})],64))}});export{ve as default};
