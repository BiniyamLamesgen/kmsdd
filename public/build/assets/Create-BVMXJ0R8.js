import{d as B,E,s as _,u as P,c as d,o as n,a as r,b as e,h as q,w as a,e as o,f as i,g as U,j as v,i as u,n as p,F as x,r as b,t as m,v as h,k as V}from"./app-BtxNwyw2.js";import{_ as g}from"./index-jPyfy9EI.js";import{_ as K,a as N,b as j,c as A}from"./CardTitle.vue_vue_type_script_setup_true_lang-FN0ZLx45.js";import{_ as L}from"./CardDescription.vue_vue_type_script_setup_true_lang-kVO9wE2d.js";import{_ as c,a as w}from"./Label.vue_vue_type_script_setup_true_lang-C-ig4YK4.js";import{_ as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-CXKSQ9h2.js";import{A as O}from"./arrow-left-CdviPf8L.js";import{B as z}from"./book-open-DqD2IMiQ.js";import{o as M,s as f,n as R,l as G}from"./types-D45As3cg.js";import"./useForwardExpose-AmO87qx4.js";import"./VisuallyHidden-DfHmtx4U.js";const I={class:"mx-auto max-w-4xl space-y-6 p-4 sm:p-6 lg:p-8"},W={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},H={class:"flex flex-col space-y-2 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4"},J={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:gap-6"},Q={class:"space-y-2"},X=["value"],Y={key:0,class:"text-sm text-red-600"},Z={class:"space-y-2"},ee={key:0,class:"text-sm text-red-600"},te={class:"space-y-2"},se=["value"],oe={key:0,class:"text-sm text-red-600"},re={class:"space-y-2"},le={key:0,class:"text-sm text-red-600"},ae={class:"space-y-2 md:col-span-2"},de={key:0,class:"text-sm text-red-600"},ne={class:"flex flex-col items-center justify-end space-y-3 border-t pt-6 sm:flex-row sm:space-y-0 sm:space-x-4"},be=B({__name:"Create",setup(ie){const S=E().props.employees,C=[{title:"Knowledge Sharing",href:_("knowledge-management.index")},{title:"Create",href:""}],s=P({employee_id:"",document_title:"",document_type:"",link:"",date_shared:""}),T=M({employee_id:R({required_error:"Employee is required"}),document_title:f().min(1,"Document title is required").max(255),document_type:f().min(1,"Document type is required").max(100),link:f().url("Please enter a valid URL").optional().or(G("")),date_shared:f().min(1,"Date shared is required")}),D=["Article","Blog","Tutorial","Guide","Documentation","Presentation","Video","Template","Research","Best Practices","Case Study","White Paper","Other"],$=()=>{if(s.errors={},s.employee_id===""){s.errors.employee_id="Employee is required";return}const y=T.safeParse({...s.data(),employee_id:Number(s.employee_id)});if(!y.success){y.error.issues.forEach(t=>{t.path[0]&&(s.errors[t.path[0]]=t.message)});return}s.post(_("knowledge-management.store"),{onSuccess:()=>{V.visit(_("knowledge-management.index"))}})},k=()=>{V.visit(_("knowledge-management.index"))};return(y,t)=>(n(),d(x,null,[r(e(q),{title:"Share Knowledge"}),r(F,{breadcrumbs:C},{default:a(()=>[o("div",I,[o("div",W,[o("div",H,[r(e(g),{variant:"outline",size:"sm",onClick:k,class:"w-fit cursor-pointer"},{default:a(()=>[r(e(O),{class:"mr-2 h-4 w-4"}),t[5]||(t[5]=i(" Back ",-1))]),_:1}),t[6]||(t[6]=o("div",null,[o("h1",{class:"text-2xl font-semibold text-gray-900 sm:text-3xl dark:text-gray-100"}," Share Knowledge "),o("p",{class:"text-sm text-gray-600 sm:text-base dark:text-gray-400"}," Add a new knowledge sharing item to help others learn. ")],-1))])]),o("form",{onSubmit:U($,["prevent"]),class:"space-y-6"},[r(e(K),null,{default:a(()=>[r(e(N),null,{default:a(()=>[r(e(j),{class:"flex items-center space-x-2"},{default:a(()=>[r(e(z),{class:"h-5 w-5"}),t[7]||(t[7]=o("span",null,"Knowledge Information",-1))]),_:1}),r(e(L),null,{default:a(()=>[...t[8]||(t[8]=[i(" Enter the details for the knowledge sharing item. ",-1)])]),_:1})]),_:1}),r(e(A),null,{default:a(()=>[o("div",J,[o("div",Q,[r(e(c),{for:"employee_id"},{default:a(()=>[...t[9]||(t[9]=[i("Employee *",-1)])]),_:1}),v(o("select",{id:"employee_id","onUpdate:modelValue":t[0]||(t[0]=l=>e(s).employee_id=l),class:p(["w-full rounded border px-3 py-2",e(s).errors.employee_id?"border-red-500":"border-gray-300"])},[t[10]||(t[10]=o("option",{value:""},"Select employee",-1)),(n(!0),d(x,null,b(e(S),l=>(n(),d("option",{key:l.id,value:l.id},m(l.first_name)+" "+m(l.last_name),9,X))),128))],2),[[h,e(s).employee_id]]),e(s).errors.employee_id?(n(),d("p",Y,m(e(s).errors.employee_id),1)):u("",!0)]),o("div",Z,[r(e(c),{for:"document_title"},{default:a(()=>[...t[11]||(t[11]=[i("Document Title *",-1)])]),_:1}),r(e(w),{id:"document_title",modelValue:e(s).document_title,"onUpdate:modelValue":t[1]||(t[1]=l=>e(s).document_title=l),placeholder:"Enter document title",class:p([{"border-red-500":e(s).errors.document_title},"w-full"])},null,8,["modelValue","class"]),e(s).errors.document_title?(n(),d("p",ee,m(e(s).errors.document_title),1)):u("",!0)]),o("div",te,[r(e(c),{for:"document_type"},{default:a(()=>[...t[12]||(t[12]=[i("Document Type *",-1)])]),_:1}),v(o("select",{id:"document_type","onUpdate:modelValue":t[2]||(t[2]=l=>e(s).document_type=l),class:p(["w-full rounded border px-3 py-2",e(s).errors.document_type?"border-red-500":"border-gray-300"])},[t[13]||(t[13]=o("option",{value:""}," Select document type ",-1)),(n(),d(x,null,b(D,l=>o("option",{key:l,value:l},m(l),9,se)),64))],2),[[h,e(s).document_type]]),e(s).errors.document_type?(n(),d("p",oe,m(e(s).errors.document_type),1)):u("",!0)]),o("div",re,[r(e(c),{for:"date_shared"},{default:a(()=>[...t[14]||(t[14]=[i("Date Shared *",-1)])]),_:1}),r(e(w),{id:"date_shared",type:"date",modelValue:e(s).date_shared,"onUpdate:modelValue":t[3]||(t[3]=l=>e(s).date_shared=l),class:p([{"border-red-500":e(s).errors.date_shared},"w-full"])},null,8,["modelValue","class"]),e(s).errors.date_shared?(n(),d("p",le,m(e(s).errors.date_shared),1)):u("",!0)]),o("div",ae,[r(e(c),{for:"link"},{default:a(()=>[...t[15]||(t[15]=[i("Link (Optional)",-1)])]),_:1}),r(e(w),{id:"link",type:"url",modelValue:e(s).link,"onUpdate:modelValue":t[4]||(t[4]=l=>e(s).link=l),placeholder:"https://example.com/document",class:p([{"border-red-500":e(s).errors.link},"w-full"])},null,8,["modelValue","class"]),e(s).errors.link?(n(),d("p",de,m(e(s).errors.link),1)):u("",!0),t[16]||(t[16]=o("p",{class:"text-xs text-gray-500"}," Provide a link to access the shared knowledge (if available online) ",-1))])])]),_:1})]),_:1}),o("div",ne,[r(e(g),{type:"button",variant:"outline",onClick:k,class:"order-2 w-full cursor-pointer sm:order-1 sm:w-auto"},{default:a(()=>[...t[17]||(t[17]=[i(" Cancel ",-1)])]),_:1}),r(e(g),{type:"submit",loading:e(s).processing,class:"order-1 w-full cursor-pointer sm:order-2 sm:w-auto"},{default:a(()=>[...t[18]||(t[18]=[i(" Share Knowledge ",-1)])]),_:1},8,["loading"])])],32)])]),_:1})],64))}});export{be as default};
