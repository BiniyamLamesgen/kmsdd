import{d as S,s as _,u as $,c as d,o as p,a as r,b as e,h as D,w as i,e as o,f as n,g as T,j as v,i as u,F as k,r as U,t as m,v as h,n as y,G as j,k as V}from"./app-WCoSBNF8.js";import{_ as b}from"./index-gtYP4Z27.js";import{_ as B,a as N,b as P,c as q}from"./CardTitle.vue_vue_type_script_setup_true_lang-CqPOizUP.js";import{_ as A}from"./CardDescription.vue_vue_type_script_setup_true_lang-BsvAwo7b.js";import{_ as f,a as x}from"./Label.vue_vue_type_script_setup_true_lang-DA93N1nt.js";import{_ as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-BkSasf_i.js";import{A as M}from"./arrow-left-BmVZzzhP.js";import{S as z}from"./star-BalVDEFp.js";import{o as L,s as c,u as G,l as g,n as I}from"./types-D45As3cg.js";import"./useForwardExpose-j55gvhwt.js";import"./VisuallyHidden-CkRoF75v.js";const O={class:"mx-auto max-w-6xl space-y-6 p-4 sm:p-6 lg:p-8"},R={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},H={class:"flex flex-col space-y-2 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4"},J={class:"grid grid-cols-1 gap-6 lg:gap-8 xl:grid-cols-2"},K={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 lg:gap-6"},Q={class:"space-y-2"},W=["value"],X={key:0,class:"text-sm text-red-600"},Y={class:"space-y-2"},Z={key:0,class:"text-sm text-red-600"},ee={class:"space-y-2"},se={key:0,class:"text-sm text-red-600"},te={class:"space-y-2"},re={key:0,class:"text-sm text-red-600"},oe={class:"space-y-2"},ae={key:0,class:"text-sm text-red-600"},ie={class:"space-y-2 md:col-span-2 lg:col-span-1"},le={key:0,class:"text-sm text-red-600"},ne={class:"flex flex-col items-center justify-end space-y-3 border-t pt-6 sm:flex-row sm:space-y-0 sm:space-x-4"},ve=S({__name:"Create",props:{employees:{default:()=>[]},breadcrumbs:{default:()=>[{title:"Experiences",href:_("experiences.index")},{title:"Create",href:""}]}},setup(de){const t=$({employee_id:"",company_name:"",position:"",start_date:"",end_date:"",responsibilities:""}),C=L({employee_id:G([c().min(1),I()]).transform(l=>typeof l=="string"?l.trim():l),company_name:c().min(1,"Company name is required").max(255),position:c().min(1,"Position is required").max(255),start_date:c().optional().or(g("")),end_date:c().optional().or(g("")),responsibilities:c().max(5e3).optional().or(g(""))}).refine(l=>l.start_date&&l.end_date?new Date(l.end_date)>=new Date(l.start_date):!0,{message:"End date must be after or equal to start date",path:["end_date"]}),E=()=>{const l=C.safeParse(t.data());if(!l.success){t.errors={},l.error.issues.forEach(s=>{s.path&&s.path[0]&&(t.errors[s.path[0]]=s.message)});return}t.post(_("experiences.store"),{onSuccess:()=>V.visit(_("experiences.index"))})},w=()=>{V.visit(_("experiences.index"))};return(l,s)=>(p(),d(k,null,[r(e(D),{title:"Create Experience"}),r(F,{breadcrumbs:l.breadcrumbs},{default:i(()=>[o("div",O,[o("div",R,[o("div",H,[r(e(b),{variant:"outline",size:"sm",onClick:w,class:"w-fit cursor-pointer"},{default:i(()=>[r(e(M),{class:"mr-2 h-4 w-4"}),s[6]||(s[6]=n(" Back ",-1))]),_:1}),s[7]||(s[7]=o("div",null,[o("h1",{class:"text-2xl font-semibold text-gray-900 sm:text-3xl dark:text-gray-100"},"Create Experience"),o("p",{class:"text-sm text-gray-600 sm:text-base dark:text-gray-400"},"Add a new experience for an employee.")],-1))])]),o("form",{onSubmit:T(E,["prevent"]),class:"space-y-6"},[o("div",J,[r(e(B),{class:"xl:col-span-2"},{default:i(()=>[r(e(N),null,{default:i(()=>[r(e(P),{class:"flex items-center space-x-2"},{default:i(()=>[r(e(z),{class:"h-5 w-5"}),s[8]||(s[8]=o("span",null,"Experience Information",-1))]),_:1}),r(e(A),null,{default:i(()=>[...s[9]||(s[9]=[n(" Enter the details for the new experience. ",-1)])]),_:1})]),_:1}),r(e(q),null,{default:i(()=>[o("div",K,[o("div",Q,[r(e(f),{for:"employee_id"},{default:i(()=>[...s[10]||(s[10]=[n("Employee *",-1)])]),_:1}),v(o("select",{id:"employee_id","onUpdate:modelValue":s[0]||(s[0]=a=>e(t).employee_id=a),class:"w-full rounded border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:ring-2 focus:ring-blue-500 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100"},[s[11]||(s[11]=o("option",{value:""},"Select employee",-1)),(p(!0),d(k,null,U(l.employees,a=>(p(),d("option",{key:a.id,value:a.id},m(a.name),9,W))),128))],512),[[h,e(t).employee_id]]),e(t).errors.employee_id?(p(),d("p",X,m(e(t).errors.employee_id),1)):u("",!0)]),o("div",Y,[r(e(f),{for:"company_name"},{default:i(()=>[...s[12]||(s[12]=[n("Company *",-1)])]),_:1}),r(e(x),{id:"company_name",modelValue:e(t).company_name,"onUpdate:modelValue":s[1]||(s[1]=a=>e(t).company_name=a),placeholder:"Company name",class:y([{"border-red-500":e(t).errors.company_name},"w-full"])},null,8,["modelValue","class"]),e(t).errors.company_name?(p(),d("p",Z,m(e(t).errors.company_name),1)):u("",!0)]),o("div",ee,[r(e(f),{for:"position"},{default:i(()=>[...s[13]||(s[13]=[n("Position *",-1)])]),_:1}),r(e(x),{id:"position",modelValue:e(t).position,"onUpdate:modelValue":s[2]||(s[2]=a=>e(t).position=a),placeholder:"Position",class:y([{"border-red-500":e(t).errors.position},"w-full"])},null,8,["modelValue","class"]),e(t).errors.position?(p(),d("p",se,m(e(t).errors.position),1)):u("",!0)]),o("div",te,[r(e(f),{for:"start_date"},{default:i(()=>[...s[14]||(s[14]=[n("Start Date",-1)])]),_:1}),r(e(x),{id:"start_date",type:"date",modelValue:e(t).start_date,"onUpdate:modelValue":s[3]||(s[3]=a=>e(t).start_date=a),class:y([{"border-red-500":e(t).errors.start_date},"w-full"])},null,8,["modelValue","class"]),e(t).errors.start_date?(p(),d("p",re,m(e(t).errors.start_date),1)):u("",!0)]),o("div",oe,[r(e(f),{for:"end_date"},{default:i(()=>[...s[15]||(s[15]=[n("End Date",-1)])]),_:1}),r(e(x),{id:"end_date",type:"date",modelValue:e(t).end_date,"onUpdate:modelValue":s[4]||(s[4]=a=>e(t).end_date=a),class:y([{"border-red-500":e(t).errors.end_date},"w-full"])},null,8,["modelValue","class"]),e(t).errors.end_date?(p(),d("p",ae,m(e(t).errors.end_date),1)):u("",!0)]),o("div",ie,[r(e(f),{for:"responsibilities"},{default:i(()=>[...s[16]||(s[16]=[n("Responsibilities",-1)])]),_:1}),v(o("textarea",{id:"responsibilities","onUpdate:modelValue":s[5]||(s[5]=a=>e(t).responsibilities=a),class:"w-full rounded border px-3 py-2 text-sm",rows:"4",placeholder:"Describe responsibilities..."},null,512),[[j,e(t).responsibilities]]),e(t).errors.responsibilities?(p(),d("p",le,m(e(t).errors.responsibilities),1)):u("",!0),s[17]||(s[17]=o("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Optional: describe the role responsibilities",-1))])])]),_:1})]),_:1})]),o("div",ne,[r(e(b),{type:"button",variant:"outline",onClick:w,class:"order-2 w-full cursor-pointer sm:order-1 sm:w-auto"},{default:i(()=>[...s[18]||(s[18]=[n(" Cancel ",-1)])]),_:1}),r(e(b),{type:"submit",loading:e(t).processing,class:"order-1 w-full cursor-pointer sm:order-2 sm:w-auto",disabled:e(t).errors.employee_id||e(t).errors.company_name||e(t).errors.position},{default:i(()=>[...s[19]||(s[19]=[n(" Create Experience ",-1)])]),_:1},8,["loading","disabled"])])],32)])]),_:1},8,["breadcrumbs"])],64))}});export{ve as default};
